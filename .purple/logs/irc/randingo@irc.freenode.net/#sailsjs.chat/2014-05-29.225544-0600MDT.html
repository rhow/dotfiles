<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #sailsjs at Thu 29 May 2014 10:55:44 PM MDT on randingo@irc.freenode.net (irc)</title></head><body><h3>Conversation with #sailsjs at Thu 29 May 2014 10:55:44 PM MDT on randingo@irc.freenode.net (irc)</h3>
<font size="2">(10:55:44 PM)</font><b> The topic for #sailsjs is: npm star sails | <a href="https://www.npmjs.org/package/sails">https://www.npmjs.org/package/sails</a></b><br/>
<font color="#A82F2F"><font size="2">(11:48:45 PM)</font> <b>IJNX:</b></font> sailsjs + passportjs + safari = persistent sessions doesn&apos;t work.<br/>
<font color="#A82F2F"><font size="2">(11:49:01 PM)</font> <b>Mats[Gone]:</b></font> Are you sure you are using a proper session storage?<br/>
<font color="#A82F2F"><font size="2">(11:49:02 PM)</font> <b>IJNX:</b></font> any ideas why? It works fine on chrome?<br/>
<font color="#A82F2F"><font size="2">(11:51:37 PM)</font> <b>IJNX:</b></font> Here is two session objects from server: http://pastebin.com/H5dsPNqw<br/>
<font color="#A82F2F"><font size="2">(11:52:29 PM)</font> <b>IJNX:</b></font> I use my laptop with localhost server: sailsjs + passport + redis + sailssocket.<br/>
<font color="#A82F2F"><font size="2">(11:55:04 PM)</font> <b>IJNX:</b></font> I created /authenticated url to check if the session exists already.<br/>
<font color="#A82F2F"><font size="2">(11:56:52 PM)</font> <b>IJNX:</b></font> I wonder if safari has some restrictions related to ports.<br/>
<font color="#A82F2F"><font size="2">(11:57:10 PM)</font> <b>IJNX:</b></font> I&apos;m serving my page from port 8000 and socket on port 1337.<br/>
<font color="#A82F2F"><font size="2">(11:57:59 PM)</font> <b>IJNX:</b></font> I had to hardcode the port to be 1337 inside sails.io.js temporarily  (development purposes)<br/>
<font color="#A82F2F"><font size="2">(12:20:41 AM)</font> <b>RWOverdijk:</b></font> DESTROY EVERYTHING<br/>
<font color="#A82F2F"><font size="2">(12:37:04 AM)</font> <b>IJNX:</b></font> ?<br/>
<font color="#062585"><font size="2">(12:38:24 AM)</font> <b>***IJNX</b></font> bash-$ sudo rm -fr /<br/>
<font color="#A82F2F"><font size="2">(12:39:00 AM)</font> <b>RWOverdijk:</b></font> Yes<br/>
<font color="#A82F2F"><font size="2">(12:39:04 AM)</font> <b>RWOverdijk:</b></font> Remove France<br/>
<font color="#A82F2F"><font size="2">(12:39:08 AM)</font> <b>RWOverdijk:</b></font> +1<br/>
<font color="#A82F2F"><font size="2">(12:45:43 AM)</font> <b>RWOverdijk:</b></font> Grab your left nut make your right one jealous.<br/>
<font color="#A82F2F"><font size="2">(12:51:28 AM)</font> <b>morenoh150:</b></font> anyone using heroku for sails?<br/>
<font color="#A82F2F"><font size="2">(12:52:07 AM)</font> <b>morenoh150:</b></font> I&apos;m getting &apos;XMLHttpRequest cannot load&apos; in my console. Not sure if it&apos;ll fix itself if I wait<br/>
<font color="#A82F2F"><font size="2">(12:53:45 AM)</font> <b>RWOverdijk:</b></font> What&apos;s the full error.<br/>
<font color="#A82F2F"><font size="2">(12:53:57 AM)</font> <b>RWOverdijk:</b></font> It&apos;s probably a CORS thing<br/>
<font color="#A82F2F"><font size="2">(01:10:13 AM)</font> <b>morenoh150:</b></font> actually I can&apos;t debug that right now since adding redis borked everything :/<br/>
<font color="#A82F2F"><font size="2">(01:10:24 AM)</font> <b>morenoh150:</b></font> in redistogo what is the db name?<br/>
<font color="#A82F2F"><font size="2">(01:10:29 AM)</font> <b>morenoh150:</b></font> RWOverdijk:<br/>
<font color="#A82F2F"><font size="2">(01:11:00 AM)</font> <b>RWOverdijk:</b></font> I don&apos;t know what redistogo is, sorry.<br/>
<font color="#A82F2F"><font size="2">(01:31:02 AM)</font> <b>morenoh150:</b></font> fuck it was a missing comma in the config ðŸ˜¡<br/>
<font color="#A82F2F"><font size="2">(01:43:56 AM)</font> <b>morenoh150:</b></font> full error is this<br/>
<font color="#A82F2F"><font size="2">(01:43:58 AM)</font> <b>morenoh150:</b></font> XMLHttpRequest cannot load http://localhost/socket.io/1/?__sails_io_sdk_version=0.10.0&amp;__sails_io_sdk_platform=browser&amp;__sails_io_sdk_language=javascript&amp;t=1401435823172. No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource. Origin &apos;http://activityoverlord4.herokuapp.com&apos; is therefore not allowed access.<br/>
<font color="#A82F2F"><font size="2">(01:44:00 AM)</font> <b>morenoh150:</b></font> RWOverdijk:<br/>
<font color="#A82F2F"><font size="2">(01:44:30 AM)</font> <b>RWOverdijk:</b></font> morenoh150, The clue is in the error.<br/>
<font color="#A82F2F"><font size="2">(01:44:30 AM)</font> <b>RWOverdijk:</b></font> You&apos;re accessing localhost<br/>
<font color="#A82F2F"><font size="2">(01:44:44 AM)</font> <b>RWOverdijk:</b></font> But it should be the domain it&apos;s running on.<br/>
<font color="#A82F2F"><font size="2">(01:45:11 AM)</font> <b>RWOverdijk:</b></font> So, http://activityoverlord4.herokuapp.com/socket.io (as you can see, http://activityoverlord4.herokuapp.com/socket.io/socket.io.js DOES work)<br/>
<font color="#A82F2F"><font size="2">(01:45:45 AM)</font> <b>morenoh150:</b></font> ah I think there&apos;s a sails thing for switch the environment from dev to prod and it should change this right?<br/>
<font color="#A82F2F"><font size="2">(01:48:26 AM)</font> <b>RWOverdijk:</b></font> morenoh150, Not sure. You include this onto your page somewhere<br/>
<font color="#A82F2F"><font size="2">(01:48:31 AM)</font> <b>RWOverdijk:</b></font> And it connects to localhost.<br/>
<font color="#A82F2F"><font size="2">(01:48:41 AM)</font> <b>RWOverdijk:</b></font> Just remove the hostname bit and it _should_ work.<br/>
<font color="#A82F2F"><font size="2">(01:49:39 AM)</font> <b>morenoh150:</b></font> RWOverdijk: not on the page really. Sounds like a sails ajax request. Just have to find where it is<br/>
<font color="#A82F2F"><font size="2">(01:51:00 AM)</font> <b>morenoh150:</b></font> ah found it. Where I define socket.io<br/>
<font color="#A82F2F"><font size="2">(01:53:30 AM)</font> <b>morenoh150:</b></font> there&apos;s also the NODE_ENV environment variable that should be changed from development to production<br/>
<font color="#A82F2F"><font size="2">(01:56:11 AM)</font> <b>RWOverdijk:</b></font> Perhaps, but that doesn&apos;t change what it tried to load.<br/>
<font color="#A82F2F"><font size="2">(01:56:11 AM)</font> <b>RWOverdijk:</b></font> And to me, it sounds like a connection it can&apos;t make.<br/>
<font color="#A82F2F"><font size="2">(01:56:11 AM)</font> <b>RWOverdijk:</b></font> Becasue that&apos;s quite literally what the error says.<br/>
<font color="#A82F2F"><font size="2">(01:56:11 AM)</font> <b>morenoh150:</b></font> RWOverdijk: oh yeah I fixed that already :)<br/>
<font size="2">(01:56:11 AM)</font><b> The account has disconnected and you are no longer in this chat. You will be automatically rejoined in the chat when the account reconnects.</b><br/>
</body></html>
