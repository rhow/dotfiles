<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #sailsjs at Mon 26 May 2014 09:19:56 PM MDT on randingo@irc.freenode.net (irc)</title></head><body><h3>Conversation with #sailsjs at Mon 26 May 2014 09:19:56 PM MDT on randingo@irc.freenode.net (irc)</h3>
<font size="2">(09:19:56 PM)</font><b> The topic for #sailsjs is: npm star sails | <a href="https://www.npmjs.org/package/sails">https://www.npmjs.org/package/sails</a></b><br/>
<font color="#A82F2F"><font size="2">(09:27:09 PM)</font> <b>kidovate:</b></font> ConfusedSailser: same thing, I think I have passport integrated properly, but I&apos;m not sure how to attach it to my session<br/>
<font color="#A82F2F"><font size="2">(09:56:39 PM)</font> <b>hephaestus_rg:</b></font> im here<br/>
<font color="#A82F2F"><font size="2">(09:56:45 PM)</font> <b>lenswipe:</b></font> me too<br/>
<font color="#A82F2F"><font size="2">(09:57:12 PM)</font> <b>hephaestus_rg:</b></font> want to help me figure out something hard<br/>
<font color="#A82F2F"><font size="2">(09:59:58 PM)</font> <b>hephaestus_rg:</b></font> i&apos;m trying to make user facing templates and partials work<br/>
<font color="#A82F2F"><font size="2">(10:00:41 PM)</font> <b>hephaestus_rg:</b></font> i think i know how to do the persistence side<br/>
<font color="#A82F2F"><font size="2">(10:01:02 PM)</font> <b>hephaestus_rg:</b></font> but i can&apos;t figure out how to make sails scope/render everything like it would with the filesystem<br/>
<font color="#A82F2F"><font size="2">(10:02:56 PM)</font> <b>hephaestus_rg:</b></font> in theory, i want it to check redis/mongo for a user-defined template, or read from the filesystem otherwise<br/>
<font color="#A82F2F"><font size="2">(10:05:14 PM)</font> <b>lenswipe:</b></font> out of my depth<br/>
<font color="#A82F2F"><font size="2">(10:05:14 PM)</font> <b>lenswipe:</b></font> sorry<br/>
<font color="#A82F2F"><font size="2">(10:06:19 PM)</font> <b>hephaestus_rg:</b></font> it&apos;s k :)<br/>
<font color="#A82F2F"><font size="2">(10:10:20 PM)</font> <b>lenswipe:</b></font> dont suppose you know how to inject an object into an ejs layout do you?<br/>
<font color="#A82F2F"><font size="2">(10:10:43 PM)</font> <b>hephaestus_rg:</b></font> oh yeah<br/>
<font color="#A82F2F"><font size="2">(10:10:53 PM)</font> <b>hephaestus_rg:</b></font> you want to use the locals variable<br/>
<font color="#A82F2F"><font size="2">(10:11:02 PM)</font> <b>hephaestus_rg:</b></font> res.locals i think, let me check my code for an example<br/>
<font color="#A82F2F"><font size="2">(10:11:42 PM)</font> <b>hephaestus_rg:</b></font> write to res.locals<br/>
<font color="#A82F2F"><font size="2">(10:11:43 PM)</font> <b>hephaestus_rg:</b></font> read from res.locals<br/>
<font color="#A82F2F"><font size="2">(10:12:29 PM)</font> <b>lenswipe:</b></font> yeah but<br/>
<font color="#A82F2F"><font size="2">(10:12:38 PM)</font> <b>lenswipe:</b></font> i want this to be injected into the actual layout<br/>
<font color="#A82F2F"><font size="2">(10:12:41 PM)</font> <b>lenswipe:</b></font> not the partial<br/>
<font color="#A82F2F"><font size="2">(10:12:45 PM)</font> <b>lenswipe:</b></font> its for the site title<br/>
<font color="#A82F2F"><font size="2">(10:26:51 PM)</font> <b>hephaestus_rg:</b></font> that works for the layout too<br/>
<font color="#A82F2F"><font size="2">(10:26:56 PM)</font> <b>hephaestus_rg:</b></font> in fact, i do exactly that<br/>
<font color="#A82F2F"><font size="2">(10:27:31 PM)</font> <b>hephaestus_rg:</b></font> in res.view<br/>
<font color="#A82F2F"><font size="2">(10:27:34 PM)</font> <b>hephaestus_rg:</b></font> you can do this:<br/>
<font color="#A82F2F"><font size="2">(10:28:11 PM)</font> <b>hephaestus_rg:</b></font> res.view(&apos;viewfile&apos;, {&apos;somekey&apos;:&apos;someval&apos;})<br/>
<font color="#A82F2F"><font size="2">(10:28:21 PM)</font> <b>hephaestus_rg:</b></font> and now somekey is available in the layout<br/>
<font color="#A82F2F"><font size="2">(10:28:27 PM)</font> <b>hephaestus_rg:</b></font> as well as whatever view<br/>
<font color="#A82F2F"><font size="2">(10:32:00 PM)</font> <b>lenswipe:</b></font> hephaestus_rg, yes, but I don&apos;t want to have to pass the site name into every single call to res-view<br/>
<font color="#A82F2F"><font size="2">(10:35:32 PM)</font> <b>hephaestus_rg:</b></font> then store it in a config variable (i do this too)<br/>
<font color="#A82F2F"><font size="2">(10:36:43 PM)</font> <b>hephaestus_rg:</b></font> https://gist.github.com/hayksaakian/2065d3eab9c76783b40f<br/>
<font size="2">(10:42:38 PM)</font><b> The account has disconnected and you are no longer in this chat. You will be automatically rejoined in the chat when the account reconnects.</b><br/>
</body></html>
