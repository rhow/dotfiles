<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #chef at Tue 29 Apr 2014 11:12:04 AM MDT on randingo@irc.freenode.net (irc)</title></head><body><h3>Conversation with #chef at Tue 29 Apr 2014 11:12:04 AM MDT on randingo@irc.freenode.net (irc)</h3>
<font size="2">(11:12:05 AM)</font><b> The topic for #chef is: Chef Client 11.12.2 bit.ly/1eYgKT7 | Chef Server 11.0.12 bit.ly/1hj0GFR | <a href="http://getchef.com/chef/install">http://getchef.com/chef/install</a> | <a href="http://docs.opscode.com">http://docs.opscode.com</a> | <a href="http://tickets.opscode.com">http://tickets.opscode.com</a> | <a href="http://lists.opscode.com">http://lists.opscode.com</a> | <a href="http://community.opscode.com">http://community.opscode.com</a> | <a href="http://status.opscode.com">http://status.opscode.com</a> | IRC Logs: <a href="http://bit.ly/chefirc">http://bit.ly/chefirc</a> Real-time: <a href="https://botbot.me/freenode/chef">https://botbot.me/freenode/chef</a> | Learning Chef? #learnchef</b><br/>
<font size="2">(11:12:11 AM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font size="2">(11:24:17 AM)</font><b> ganaiwali_ is now known as ganaiwali</b><br/>
<font color="#A82F2F"><font size="2">(11:24:31 AM)</font> <b>VonUber:</b></font> Whats the best way to set a variable unique to a node, that I can set it one recipe and then access it in another?<br/>
<font size="2">(11:34:38 AM)</font><b> mode (+o ssd7) by ChanServ</b><br/>
<font size="2">(11:38:33 AM)</font><b> isotope is now known as Guest20795</b><br/>
<font size="2">(12:05:14 PM)</font><b> ganaiwali_ is now known as ganaiwali</b><br/>
<font size="2">(12:05:32 PM)</font><b> mode (+o ssd7) by ChanServ</b><br/>
<font color="#A82F2F"><font size="2">(12:09:30 PM)</font> <b>coderanger:</b></font> VonUber: Does it need to presist?<br/>
<font color="#A82F2F"><font size="2">(12:09:33 PM)</font> <b>coderanger:</b></font> er, persist<br/>
<font size="2">(12:14:08 PM)</font><b> zz_paulczar is now known as paulczar</b><br/>
<font size="2">(12:14:12 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font color="#A82F2F"><font size="2">(12:15:25 PM)</font> <b>redondos:</b></font> what method do you recommend for firewall configuration using chef? i&apos;ve been trying out iptables-ng this morning but it seems to be kind of unreliable, i am hesitant to add cookbooks that fail so easily to production runlists<br/>
<font color="#A82F2F"><font size="2">(12:15:28 PM)</font> <b>redondos:</b></font> any tips appreciated<br/>
<font size="2">(12:17:49 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font color="#A82F2F"><font size="2">(12:19:39 PM)</font> <b>troyready:</b></font> redondos, we use that one and ufw and have been pretty happy with both<br/>
<font color="#A82F2F"><font size="2">(12:20:40 PM)</font> <b>redondos:</b></font> thanks, troyready. do you always use ufw for your ubuntu boxes, and iptables-ng for the rest?<br/>
<font color="#A82F2F"><font size="2">(12:20:50 PM)</font> <b>redondos:</b></font> (the latter removes the former AFAIK)<br/>
<font color="#A82F2F"><font size="2">(12:21:47 PM)</font> <b>troyready:</b></font> Yeah, how we chose to structure our chef usage makes keeping them separate normal for us<br/>
<font color="#A82F2F"><font size="2">(12:22:05 PM)</font> <b>troyready:</b></font> If that wasn&apos;t the case, we&apos;d obviously just switch over to iptables-ng<br/>
<font color="#A82F2F"><font size="2">(12:22:19 PM)</font> <b>troyready:</b></font> Or a wrapper for it actually<br/>
<font size="2">(12:22:35 PM)</font><b> ivey_off is now known as ivey</b><br/>
<font color="#A82F2F"><font size="2">(12:22:49 PM)</font> <b>redondos:</b></font> that&apos;s what i&apos;m attempting<br/>
<font color="#A82F2F"><font size="2">(12:26:36 PM)</font> <b>redondos:</b></font> troyready: one problem I&apos;m running into is that when I remove a rule from a recipe, iptables-ng doesn&apos;t remove it from, say, /etc/iptables.d/filter/INPUT/ssh.rule_v4<br/>
<font color="#A82F2F"><font size="2">(12:26:40 PM)</font> <b>redondos:</b></font> have you ever encountered this issue?<br/>
<font size="2">(12:29:59 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font size="2">(12:43:13 PM)</font><b> ohadlevy is now known as Guest95688</b><br/>
<font color="#A82F2F"><font size="2">(01:00:04 PM)</font> <b>mbailey:</b></font> Hello everyone<br/>
<font color="#A82F2F"><font size="2">(01:00:33 PM)</font> <b>mbailey:</b></font> is there anyway to trigger an event on a node delete in chef?<br/>
<font color="#A82F2F"><font size="2">(01:02:12 PM)</font> <b>mbailey:</b></font> is there anyway to trigger an event on a node delete in chef?<br/>
<font color="#A82F2F"><font size="2">(01:07:08 PM)</font> <b>coderanger:</b></font> mbailey: Not that I&apos;m aware of<br/>
<font color="#A82F2F"><font size="2">(01:07:17 PM)</font> <b>coderanger:</b></font> mbailey: the chef server doesn&apos;t expose those kinds of hooks<br/>
<font color="#A82F2F"><font size="2">(01:08:02 PM)</font> <b>mbailey:</b></font> coderanger:  I was afraid you were going to say that, i guess i&apos;ll have to use some sort of discovery system to clean up my dynamic dns entries<br/>
<font color="#A82F2F"><font size="2">(01:08:15 PM)</font> <b>coderanger:</b></font> mbailey: Are you using AWS?<br/>
<font color="#A82F2F"><font size="2">(01:08:25 PM)</font> <b>mbailey:</b></font> coderanger: no, pure openstack<br/>
<font color="#A82F2F"><font size="2">(01:08:38 PM)</font> <b>coderanger:</b></font> mbailey: What is doing the deleting? Heat?<br/>
<font color="#A82F2F"><font size="2">(01:09:06 PM)</font> <b>mbailey:</b></font> knife openstac<br/>
<font color="#A82F2F"><font size="2">(01:09:08 PM)</font> <b>mbailey:</b></font> k<br/>
<font color="#A82F2F"><font size="2">(01:09:20 PM)</font> <b>mbailey:</b></font> but it seems there is a compute.instance.delete event<br/>
<font color="#A82F2F"><font size="2">(01:09:23 PM)</font> <b>mbailey:</b></font> maybe I can hook into it<br/>
<font color="#A82F2F"><font size="2">(01:10:22 PM)</font> <b>coderanger:</b></font> Yeah<br/>
<font color="#A82F2F"><font size="2">(01:13:33 PM)</font> <b>eucalyptus:</b></font> is there a way with chef-solo/vagrant to obtain the current IP for use in an erb template?<br/>
<font color="#A82F2F"><font size="2">(01:15:15 PM)</font> <b>coderanger:</b></font> eucalyptus: node[&apos;ipaddress&apos;]<br/>
<font color="#A82F2F"><font size="2">(01:18:17 PM)</font> <b>eucalyptus:</b></font> coderanger: perfect.  thank you<br/>
<font size="2">(01:35:19 PM)</font><b> paulczar is now known as zz_paulczar</b><br/>
<font size="2">(01:37:06 PM)</font><b> Guest95688 is now known as ohadlevy_</b><br/>
<font color="#A82F2F"><font size="2">(01:48:11 PM)</font> <b>Ron__:</b></font> Anyone know what to due if chef-client hangs?  I tried &quot;-l debug&quot;, but its not obvious why it is simply not moving past  &quot;[Tue, 29 Apr 2014 19:39:41 +0000] DEBUG: Found recipe default in cookbook centos65-baseimage&quot;.  I see some GET calls ahead of it, but some appear to work others not clear if they have returned.<br/>
<font color="#A82F2F"><font size="2">(01:50:11 PM)</font> <b>coderanger:</b></font> Ron__: Pastebin the debug trace please<br/>
<font size="2">(01:50:39 PM)</font><b> ivey is now known as ivey_off</b><br/>
<font color="#A82F2F"><font size="2">(01:51:55 PM)</font> <b>Ron__:</b></font> @coderanger, here you go<br/>
<font color="#A82F2F"><font size="2">(01:51:57 PM)</font> <b>Ron__:</b></font> http://pastebin.com/4ZfXV5qf<br/>
<font color="#A82F2F"><font size="2">(01:52:13 PM)</font> <b>Ron__:</b></font> its the last n lines, not the whole thing.<br/>
<font color="#A82F2F"><font size="2">(01:58:02 PM)</font> <b>coderanger:</b></font> Ron__: Can you include the whole thing? It makes it hard to see the context<br/>
<font color="#A82F2F"><font size="2">(01:58:31 PM)</font> <b>Ron__:</b></font> ok, one sec<br/>
<font color="#A82F2F"><font size="2">(01:59:23 PM)</font> <b>coderanger:</b></font> i.e. this looks like it might be from the middle of a run, but its hard to tell<br/>
<font color="#A82F2F"><font size="2">(01:59:47 PM)</font> <b>coderanger:</b></font> I see a call to search, and a call to get a data bag<br/>
<font color="#A82F2F"><font size="2">(01:59:50 PM)</font> <b>coderanger:</b></font> nothing unusual<br/>
<font color="#A82F2F"><font size="2">(02:01:29 PM)</font> <b>coderanger:</b></font> Ron__: What is in the recipe it is processing there?<br/>
<font color="#A82F2F"><font size="2">(02:01:37 PM)</font> <b>coderanger:</b></font> Any chance it is hitting an infinite loop or similar?<br/>
<font color="#A82F2F"><font size="2">(02:02:28 PM)</font> <b>Ron__:</b></font> I don&apos;t think so, it simply just hangs<br/>
<font color="#A82F2F"><font size="2">(02:02:51 PM)</font> <b>Ron__:</b></font> it has been a while since I ran chef-client on this server, but nothing sticks out to me<br/>
<font color="#A82F2F"><font size="2">(02:04:12 PM)</font> <b>troyready:</b></font> redondos, hmmm, that&apos;s a good question. I&apos;m not sure if I have<br/>
<font color="#A82F2F"><font size="2">(02:04:12 PM)</font> <b>Ron__:</b></font> cpu usage appears to be normal, just sitting there though<br/>
<font color="#A82F2F"><font size="2">(02:04:50 PM)</font> <b>troyready:</b></font> I think we may be at the point where we&apos;ve really just expanded &apos;out&apos; w/ our iptables-ng rules, and haven&apos;t closed any holes that we&apos;ve opened. Or maybe we have sucessfully and I&apos;m just not remembering, sorry<br/>
<font color="#A82F2F"><font size="2">(02:05:28 PM)</font> <b>coderanger:</b></font> Ron__: All I can recommend is to strace it and see what is happening<br/>
<font color="#A82F2F"><font size="2">(02:05:35 PM)</font> <b>coderanger:</b></font> Ron__: Make sure you use --no-fork when stracing<br/>
<font color="#A82F2F"><font size="2">(02:05:41 PM)</font> <b>Ron__:</b></font> agreed<br/>
<font color="#A82F2F"><font size="2">(02:06:00 PM)</font> <b>Ron__:</b></font> sorry taking so long, network is slow today :/<br/>
<font color="#A82F2F"><font size="2">(02:06:53 PM)</font> <b>coderanger:</b></font> Ron__: Might be related? :)<br/>
<font color="#A82F2F"><font size="2">(02:09:59 PM)</font> <b>NukePuppy:</b></font> anyone using chef-vault much?<br/>
<font size="2">(02:11:10 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font color="#A82F2F"><font size="2">(02:12:20 PM)</font> <b>Otterley:</b></font> what&apos;s that?<br/>
<font color="#A82F2F"><font size="2">(02:15:03 PM)</font> <b>troyready:</b></font> I don&apos;t use it yet, but have been meaning to for some time. Love the architecture and happy to see it in chefdk<br/>
<font color="#A82F2F"><font size="2">(02:15:34 PM)</font> <b>Otterley:</b></font> We&apos;ve got our own Vault that&apos;s etcd-based<br/>
<font color="#A82F2F"><font size="2">(02:15:45 PM)</font> <b>Otterley:</b></font> it&apos;s going into production once the rest of our replica hardware drops<br/>
<font color="#A82F2F"><font size="2">(02:16:46 PM)</font> <b>Otterley:</b></font> the Nordstrom vault doesn&apos;t seem to have an architecture document :/<br/>
<font color="#A82F2F"><font size="2">(02:28:03 PM)</font> <b>nicgrayson:</b></font> If a cookbook is uploaded and pinned in an environment is there any reason a node in that environment would run an old version of the cookbook?<br/>
<font color="#A82F2F"><font size="2">(02:28:49 PM)</font> <b>nicgrayson:</b></font> it&apos;s 0.2.9 but the node is running 0.2.8<br/>
<font color="#A82F2F"><font size="2">(02:29:03 PM)</font> <b>gchristensen:</b></font> nicgrayson: if the cookbook version solver szomehow restricts the versions, ie: cookbook A depends on your cookbook to be less than 1.5, and you wan tto be using 1.6<br/>
<font color="#A82F2F"><font size="2">(02:29:30 PM)</font> <b>nicgrayson:</b></font> it only has one cookbook on the runlist<br/>
<font color="#A82F2F"><font size="2">(02:30:13 PM)</font> <b>nicgrayson:</b></font> gchristensen: so there is no depends on it<br/>
<font color="#A82F2F"><font size="2">(02:31:17 PM)</font> <b>nicgrayson:</b></font> i confirmed that the metadata is correct on manage.opscode.com<br/>
<font color="#A82F2F"><font size="2">(02:33:15 PM)</font> <b>Otterley:</b></font> Make sure &apos;knife environment show&apos; and &apos;knife node show&apos; have the correct info.  I&apos;ve seen issues where my repo looked correct, but it wasn&apos;t consistent with the state of Chef itself.<br/>
<font color="#A82F2F"><font size="2">(02:33:51 PM)</font> <b>doomviking:</b></font> NukePuppy: I tried using it, but ran into the chicken/egg problem and thought I&apos;d wait a while before implementing<br/>
<font color="#A82F2F"><font size="2">(02:36:13 PM)</font> <b>kedarm:</b></font> Any guidance on how to implement http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenario2.html via chef? (disclaimer: I am a chef n00b :-) )<br/>
<font color="#A82F2F"><font size="2">(02:36:53 PM)</font> <b>nicgrayson:</b></font> kedarm: vpc works fine as long as you can ssh to the node<br/>
<font color="#A82F2F"><font size="2">(02:37:14 PM)</font> <b>nicgrayson:</b></font> kedarm: so just make sure your vpn is connected<br/>
<font color="#A82F2F"><font size="2">(02:37:19 PM)</font> <b>kedarm:</b></font> nicgrayson:  I have taken care of that by associating the ip with an interface in public subnet<br/>
<font color="#A82F2F"><font size="2">(02:38:56 PM)</font> <b>nicgrayson:</b></font> that is a way to do it. i just ssh to the private ip<br/>
<font color="#A82F2F"><font size="2">(02:39:59 PM)</font> <b>arajakul:</b></font> is there an environment variable for timestamp in chef?<br/>
<font color="#A82F2F"><font size="2">(02:40:08 PM)</font> <b>kedarm:</b></font> ok, but to implement that scenario via chef, what should I do with knife ec2 gem?<br/>
<font color="#A82F2F"><font size="2">(02:40:13 PM)</font> <b>arajakul:</b></font> i want to add a timestamp when chef runs to files,ect<br/>
<font color="#A82F2F"><font size="2">(02:41:07 PM)</font> <b>bean:</b></font> I&apos;m confused as to what you&apos;re trying to accomplish, kedarm.<br/>
<font color="#A82F2F"><font size="2">(02:41:26 PM)</font> <b>bean:</b></font> just bootstrapping in VPC?<br/>
<font color="#A82F2F"><font size="2">(02:43:13 PM)</font> <b>bean:</b></font> arajakul: uhh, are you just wanting to know the last time chef ran?<br/>
<font color="#A82F2F"><font size="2">(02:43:16 PM)</font> <b>kedarm:</b></font> bean:  I want to do the setup and configuration as documented at http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenario2.html through knife cmd line. Is that possible?<br/>
<font color="#A82F2F"><font size="2">(02:43:30 PM)</font> <b>rburton-:</b></font> Okay, so my problem is that doing execute command &quot;gem install pg -- --with-pg-config=&apos;/usr/bin/pg_config&apos;&quot; is failing since the &apos;gem&apos; that&apos;s being used is chef&apos;s installed version. How could I make sure the exeute command uses the &apos;newly installed&apos; ruby version<br/>
<font color="#A82F2F"><font size="2">(02:43:32 PM)</font> <b>kedarm:</b></font> Or do I have to set it up using AWS console?<br/>
<font color="#A82F2F"><font size="2">(02:43:35 PM)</font> <b>arajakul:</b></font> bean nah just want a random marker, on a file creation<br/>
<font color="#A82F2F"><font size="2">(02:43:40 PM)</font> <b>arajakul:</b></font> if possible timestamp would be nice<br/>
<font color="#A82F2F"><font size="2">(02:43:47 PM)</font> <b>arajakul:</b></font> bean ^<br/>
<font color="#A82F2F"><font size="2">(02:44:06 PM)</font> <b>rburton-:</b></font> The path is set for when I login to include &quot;/usr/local/rvm/rubies/ruby-2.0.0-p353/bin/gem&quot; but during the chef run, it doesn&apos;t know that path<br/>
<font color="#A82F2F"><font size="2">(02:44:11 PM)</font> <b>bean:</b></font> kedarm: i think we set it up in  the console... I&apos;m not sure that you can like, call VPC stuff from chef.<br/>
<font color="#A82F2F"><font size="2">(02:44:38 PM)</font> <b>bean:</b></font> arajakul: oh, so you just want a timestamp available in your recipe?<br/>
<font color="#A82F2F"><font size="2">(02:44:50 PM)</font> <b>Otterley:</b></font> (1) don&apos;t use rvm  (2) if you do use rvm or rbenv, you&apos;ll have to use a different provider than gem or execute<br/>
<font color="#A82F2F"><font size="2">(02:45:18 PM)</font> <b>Otterley:</b></font> or you&apos;ll have to provide an environment to  the execute resource so that the gem installation runs in the right context<br/>
<font color="#A82F2F"><font size="2">(02:45:40 PM)</font> <b>rburton-:</b></font> which provider would I need to use then to execute gem install?<br/>
<font color="#A82F2F"><font size="2">(02:46:17 PM)</font> <b>arajakul:</b></font> bean: yeah, i guess- if there arent any environment variables of that sort<br/>
<font color="#A82F2F"><font size="2">(02:46:21 PM)</font> <b>rburton-:</b></font> Seems like a major problem in the chef communicty is the load of cookbooks that are often broken depending on what you&apos;re doing<br/>
<font color="#A82F2F"><font size="2">(02:46:28 PM)</font> <b>Otterley:</b></font> if you&apos;re using rbenv, there&apos;s an rbenv_gem resource in the rbenv cookbook.  I assume there&apos;s something similar for rvm<br/>
<font color="#A82F2F"><font size="2">(02:46:40 PM)</font> <b>bean:</b></font> arajakul: I&apos;d wager there isn&apos;t... What are you attempting to accomplish with this?<br/>
<font color="#A82F2F"><font size="2">(02:46:41 PM)</font> <b>rburton-:</b></font> ah let me try that<br/>
<font color="#A82F2F"><font size="2">(02:46:50 PM)</font> <b>rburton-:</b></font> well I&apos;m using ruby_build<br/>
<font color="#A82F2F"><font size="2">(02:47:01 PM)</font> <b>arajakul:</b></font> bean: just add a timestamp or a marker on a file,<br/>
<font color="#A82F2F"><font size="2">(02:47:14 PM)</font> <b>kedarm:</b></font> bean:  ok, thanks. What is not clear is what part of the configuration should be already done via AWS and what part can be put in knife.rb.<br/>
<font color="#A82F2F"><font size="2">(02:47:14 PM)</font> <b>bean:</b></font> arajakul: /how/? like in the file name?<br/>
<font color="#A82F2F"><font size="2">(02:47:20 PM)</font> <b>arajakul:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(02:47:20 PM)</font> <b>bean:</b></font> arajakul: or /why/<br/>
<font color="#A82F2F"><font size="2">(02:47:24 PM)</font> <b>rburton-:</b></font> ruby build used rvm to install the version of ruby<br/>
<font color="#A82F2F"><font size="2">(02:47:36 PM)</font> <b>arajakul:</b></font> to verify that the file wasnt created from a previous recipe<br/>
<font color="#A82F2F"><font size="2">(02:48:16 PM)</font> <b>bean:</b></font> arajakul: recipes are built to be idempotent, so if you&apos;re updating it, it should only be updated if something in the recipe makes it change.<br/>
<font color="#A82F2F"><font size="2">(02:48:28 PM)</font> <b>bean:</b></font> adding a timestamp breaks that paradigm<br/>
<font color="#A82F2F"><font size="2">(02:48:56 PM)</font> <b>arajakul:</b></font> i just want to add a verification, that the recipe ran<br/>
<font color="#A82F2F"><font size="2">(02:49:05 PM)</font> <b>arajakul:</b></font> using aws, so the script only runs on demand<br/>
<font color="#A82F2F"><font size="2">(02:49:35 PM)</font> <b>rburton-:</b></font> Using chef can be like playing with a perl.<br/>
<font color="#A82F2F"><font size="2">(02:49:40 PM)</font> <b>rburton-:</b></font> So many broken ways to do something<br/>
<font color="#A82F2F"><font size="2">(02:49:45 PM)</font> <b>bean:</b></font> arajakul:  why does using AWS make it only run on demand. Your verification that it ran would likely be in the chef log (/var/log/chef/client.log)<br/>
<font color="#A82F2F"><font size="2">(02:50:08 PM)</font> <b>arajakul:</b></font> bean: yea i understand but it looks like it doesnt log anything regarding my file creation<br/>
<font color="#A82F2F"><font size="2">(02:50:19 PM)</font> <b>arajakul:</b></font> (it doesnt replace the file it should)<br/>
<font color="#A82F2F"><font size="2">(02:50:32 PM)</font> <b>bean:</b></font> So that sounds like a bug in your recipe, mind sharing it?<br/>
<font color="#A82F2F"><font size="2">(02:52:22 PM)</font> <b>arajakul:</b></font> sure give me a sec to modify it a bit<br/>
<font size="2">(02:53:41 PM)</font><b> Otterley left the room (quit: Quit: Computer has gone to sleep.).</b><br/>
<font color="#A82F2F"><font size="2">(02:53:49 PM)</font> <b>arajakul:</b></font> bean: https://gist.github.com/anonymous/42be406d4899f20501e2<br/>
<font color="#A82F2F"><font size="2">(02:53:58 PM)</font> <b>arajakul:</b></font> error.conf already exists from a deploy<br/>
<font color="#A82F2F"><font size="2">(02:54:01 PM)</font> <b>rburton-:</b></font> WIth each passing day, I sort of get very angry while using Chef because of how sloppy I feel all the cookbooks are. Is this a common feeling?<br/>
<font color="#A82F2F"><font size="2">(02:54:04 PM)</font> <b>arajakul:</b></font> looking to replace it with that recipe<br/>
<font color="#A82F2F"><font size="2">(02:54:34 PM)</font> <b>arajakul:</b></font> but running into a strange issue where it doesnt replace, but it will happily create a 2nd config file if i rename error.conf to error2.conf in the recipe<br/>
<font color="#A82F2F"><font size="2">(02:55:04 PM)</font> <b>rburton-:</b></font> Seems like there&apos;s no acceptable cookbook to install Ruby 2.0.x and all the books that install it, do so via RVM<br/>
<font color="#A82F2F"><font size="2">(02:55:35 PM)</font> <b>gchristensen:</b></font> rburton-: you could make an omnibus packaghe, that&apos;s what I did.<br/>
<font size="2">(02:55:46 PM)</font><b> _Ariel_ is now known as afuggini</b><br/>
<font color="#A82F2F"><font size="2">(02:56:05 PM)</font> <b>gleam:</b></font> i&apos;ve installed ruby 2.1.x with chef with both the ruby_build cookbook and the rbenv cookbook (which calls ruby_build)<br/>
<font color="#A82F2F"><font size="2">(02:56:08 PM)</font> <b>gleam:</b></font> basically, use ruby_build<br/>
<font color="#A82F2F"><font size="2">(02:56:10 PM)</font> <b>arajakul:</b></font> bean any idea?<br/>
<font color="#A82F2F"><font size="2">(02:56:18 PM)</font> <b>bean:</b></font> thinking, sec :)<br/>
<font color="#A82F2F"><font size="2">(02:56:25 PM)</font> <b>arajakul:</b></font> np, thanks :)<br/>
<font color="#A82F2F"><font size="2">(02:56:29 PM)</font> <b>rburton-:</b></font> fnichol/chef-ruby_build?<br/>
<font color="#A82F2F"><font size="2">(02:56:35 PM)</font> <b>gleam:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(02:56:39 PM)</font> <b>bean:</b></font> so, arajakul, how are you running this, just standard &quot;chef-client&quot;?<br/>
<font color="#A82F2F"><font size="2">(02:56:48 PM)</font> <b>bean:</b></font> and are you using chef server?<br/>
<font color="#A82F2F"><font size="2">(02:56:56 PM)</font> <b>arajakul:</b></font> yup via opsworks, after the initial deploy<br/>
<font color="#A82F2F"><font size="2">(02:56:59 PM)</font> <b>arajakul:</b></font> i am running a custom recipe<br/>
<font color="#A82F2F"><font size="2">(02:57:01 PM)</font> <b>rburton-:</b></font> When I tried that, it wasn&apos;t installing 2.0x but 1.9.x<br/>
<font color="#A82F2F"><font size="2">(02:57:02 PM)</font> <b>bean:</b></font> mk<br/>
<font color="#A82F2F"><font size="2">(02:57:11 PM)</font> <b>gleam:</b></font> you can specify which version to install<br/>
<font color="#A82F2F"><font size="2">(02:57:13 PM)</font> <b>arajakul:</b></font> initial deploy creates initial error.conf  ect<br/>
<font color="#A82F2F"><font size="2">(02:57:21 PM)</font> <b>rburton-:</b></font> do you have a sample I can look at?<br/>
<font size="2">(02:57:26 PM)</font><b> afuggini is now known as _Ariel_afuggini</b><br/>
<font color="#A82F2F"><font size="2">(02:57:42 PM)</font> <b>gleam:</b></font> if you look @ github in the &quot;examples&quot; section it has a few<br/>
<font color="#A82F2F"><font size="2">(02:58:03 PM)</font> <b>gleam:</b></font> ruby_build_ruby &quot;1.9.3-p0&quot; do<br/>
<font color="#A82F2F"><font size="2">(02:58:07 PM)</font> <b>gleam:</b></font> just change the version<br/>
<font color="#A82F2F"><font size="2">(02:58:07 PM)</font> <b>rburton-:</b></font> Let me try again. I&apos;m rather burnt out by all of the books I went through thus far<br/>
<font color="#A82F2F"><font size="2">(02:58:12 PM)</font> <b>bean:</b></font> arajakul: have you tried using &quot;template&quot; rather than &quot;cookbook_file&quot;<br/>
<font color="#A82F2F"><font size="2">(02:58:31 PM)</font> <b>arajakul:</b></font> no but i heard there was no difference between the 2<br/>
<font color="#A82F2F"><font size="2">(02:58:46 PM)</font> <b>bean:</b></font> I&apos;m not sure that that is true.<br/>
<font color="#A82F2F"><font size="2">(02:59:09 PM)</font> <b>rburton-:</b></font> gleam will that also install gem?<br/>
<font color="#A82F2F"><font size="2">(02:59:53 PM)</font> <b>gleam:</b></font> like the gem binary? pretty sure<br/>
<font color="#A82F2F"><font size="2">(02:59:54 PM)</font> <b>bean:</b></font> arajakul: so do you have access to a chef client.log after running it w/ opsworks?<br/>
<font color="#A82F2F"><font size="2">(02:59:56 PM)</font> <b>gleam:</b></font> or specific gems?<br/>
<font color="#A82F2F"><font size="2">(03:00:08 PM)</font> <b>rburton-:</b></font> Well, I need to use gem to install pg<br/>
<font color="#A82F2F"><font size="2">(03:00:22 PM)</font> <b>rburton-:</b></font> which has been troublesome and using application_ruby to install the application as well<br/>
<font color="#A82F2F"><font size="2">(03:00:25 PM)</font> <b>rburton-:</b></font> and configure the server<br/>
<font color="#A82F2F"><font size="2">(03:00:39 PM)</font> <b>rburton-:</b></font> I&apos;ll have to see how to get application_ruby to use the right ruby version as well<br/>
<font color="#A82F2F"><font size="2">(03:00:51 PM)</font> <b>gleam:</b></font> i&apos;m fairly sure it installs rubygems, and then you can use the gem_package resource with the path to the 2.0.x gem binary specified<br/>
<font color="#A82F2F"><font size="2">(03:01:40 PM)</font> <b>rburton-:</b></font> e.g., gem_binary(&quot;.../gem&quot;)<br/>
<font color="#A82F2F"><font size="2">(03:01:58 PM)</font> <b>gleam:</b></font> right<br/>
<font color="#A82F2F"><font size="2">(03:02:21 PM)</font> <b>gleam:</b></font> you may want to look into using something like chruby or rbenv if rvm is too heavy<br/>
<font color="#A82F2F"><font size="2">(03:02:36 PM)</font> <b>arajakul:</b></font> bean yeah<br/>
<font color="#A82F2F"><font size="2">(03:02:45 PM)</font> <b>bean:</b></font> you could gist that log :)<br/>
<font color="#A82F2F"><font size="2">(03:02:47 PM)</font> <b>arajakul:</b></font> but it doesnt look like any information is there regarding that file creation<br/>
<font color="#A82F2F"><font size="2">(03:02:49 PM)</font> <b>bean:</b></font> of a full run<br/>
<font color="#A82F2F"><font size="2">(03:03:00 PM)</font> <b>xmltok:</b></font> is there anything like chef rewind for LWRPs?<br/>
<font color="#A82F2F"><font size="2">(03:03:20 PM)</font> <b>bean:</b></font> well, you could run using debug, if you have any way of changing what log level it runs at?<br/>
<font color="#A82F2F"><font size="2">(03:03:22 PM)</font> <b>rburton-:</b></font> The problem I had with ruby_build is it never finds the right version<br/>
<font color="#A82F2F"><font size="2">(03:03:25 PM)</font> <b>rburton-:</b></font> e.g., 2.0.0p247 not found<br/>
<font color="#A82F2F"><font size="2">(03:03:58 PM)</font> <b>rburton-:</b></font> different version number<br/>
<font color="#A82F2F"><font size="2">(03:03:58 PM)</font> <b>rburton-:</b></font> fuck me<br/>
<font color="#A82F2F"><font size="2">(03:04:00 PM)</font> <b>rburton-:</b></font> k brb<br/>
<font color="#A82F2F"><font size="2">(03:04:03 PM)</font> <b>gleam:</b></font> did you do 2.0.0p247 or 2.0.0-p247?<br/>
<font color="#A82F2F"><font size="2">(03:04:10 PM)</font> <b>rburton-:</b></font> former ;)<br/>
<font color="#A82F2F"><font size="2">(03:04:12 PM)</font> <b>rburton-:</b></font> ruby -v<br/>
<font color="#A82F2F"><font size="2">(03:04:14 PM)</font> <b>rburton-:</b></font> took that<br/>
<font color="#A82F2F"><font size="2">(03:04:17 PM)</font> <b>gleam:</b></font> https://github.com/sstephenson/ruby-build/tree/master/share/ruby-build<br/>
<font color="#A82F2F"><font size="2">(03:04:20 PM)</font> <b>gleam:</b></font> use those<br/>
<font color="#A82F2F"><font size="2">(03:04:29 PM)</font> <b>rburton-:</b></font> I did /usr/local/bin/ruby-build --definitions<br/>
<font color="#A82F2F"><font size="2">(03:04:34 PM)</font> <b>gleam:</b></font> or that.<br/>
<font color="#A82F2F"><font size="2">(03:04:53 PM)</font> <b>rburton-:</b></font> Lets see<br/>
<font color="#A82F2F"><font size="2">(03:05:02 PM)</font> <b>xmltok:</b></font> i was looking to patch the ruby_build LWRP because it doesnt work<br/>
<font color="#A82F2F"><font size="2">(03:05:05 PM)</font> <b>xmltok:</b></font> funny<br/>
<font color="#A82F2F"><font size="2">(03:05:31 PM)</font> <b>gleam:</b></font> ah the 2.1.x problem?<br/>
<font color="#A82F2F"><font size="2">(03:05:41 PM)</font> <b>rburton-:</b></font> Once I get this worked out, I&apos;ll have to see what I need to do in order to have application_ruby#rails use the right version<br/>
<font color="#A82F2F"><font size="2">(03:06:01 PM)</font> <b>xmltok:</b></font> its a readline problem with ruby, since they are taking forever to release a fixed version there is a patch that can be applied. the LWRP needs to be modified to supply a patch<br/>
<font color="#A82F2F"><font size="2">(03:06:09 PM)</font> <b>xmltok:</b></font> you can see that here https://github.com/fnichol/chef-ruby_build/pull/26<br/>
<font size="2">(03:06:47 PM)</font><b> cloudnull is now known as cloudnull_zzz</b><br/>
<font color="#062585"><font size="2">(03:07:19 PM)</font> <b>***rburton-</b></font> waits ..DO created the instance and now all the pulling down of data<br/>
<font color="#062585"><font size="2">(03:10:34 PM)</font> <b>***rburton-</b></font> kicks a few cyber bits<br/>
<font color="#A82F2F"><font size="2">(03:11:05 PM)</font> <b>storme_away:</b></font> in the ocean, noone can hear your bits scream...<br/>
<font color="#A82F2F"><font size="2">(03:11:50 PM)</font> <b>rburton-:</b></font> except for sharks<br/>
<font color="#A82F2F"><font size="2">(03:11:58 PM)</font> <b>arajakul:</b></font> bean: no that i know of, gonna try deleting the file first<br/>
<font color="#A82F2F"><font size="2">(03:12:54 PM)</font> <b>helfire:</b></font> with chefdk, it says it bundles chefspec, but how do i run rspec? seems like it&apos;s not in the path by default like kitchen is<br/>
<font color="#A82F2F"><font size="2">(03:18:01 PM)</font> <b>helfire:</b></font> n/m found the answer : https://github.com/opscode/chef-dk/issues/18<br/>
<font size="2">(03:20:29 PM)</font><b> helfire left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(03:23:18 PM)</font> <b>bean:</b></font> arajakul: worth a shot, how are you running chef? is there a magic &quot;opsworks does things now&quot; button?<br/>
<font color="#A82F2F"><font size="2">(03:24:17 PM)</font> <b>bean:</b></font> (i have honestly no idea how opsworks works)<br/>
<font color="#A82F2F"><font size="2">(03:24:38 PM)</font> <b>xorl:</b></font> opsworks has a lot of magical buttons<br/>
<font color="#A82F2F"><font size="2">(03:24:43 PM)</font> <b>xorl:</b></font> it&apos;s just chef-solo though<br/>
<font color="#A82F2F"><font size="2">(03:24:56 PM)</font> <b>bean:</b></font> oh okay, so you just run chef-solo and it runs?<br/>
<font color="#A82F2F"><font size="2">(03:25:01 PM)</font> <b>xorl:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(03:25:04 PM)</font> <b>xorl:</b></font> you click &quot;deploy&quot;<br/>
<font color="#A82F2F"><font size="2">(03:25:08 PM)</font> <b>xorl:</b></font> and it does it&apos;s thing<br/>
<font color="#A82F2F"><font size="2">(03:25:08 PM)</font> <b>bean:</b></font> ah okay.<br/>
<font color="#A82F2F"><font size="2">(03:25:21 PM)</font> <b>bean:</b></font> can you run chef without hitting deploy?<br/>
<font color="#A82F2F"><font size="2">(03:25:31 PM)</font> <b>xorl:</b></font> There are a ton of steps ahead of that to get it to deploy things<br/>
<font color="#A82F2F"><font size="2">(03:25:47 PM)</font> <b>xorl:</b></font> not really, opsworks is its own beast, I think you can run generic chef-solo stuff<br/>
<font color="#A82F2F"><font size="2">(03:26:00 PM)</font> <b>xorl:</b></font> it pulls down a whole repository then runs against that and has some other features that it ties within it<br/>
<font color="#A82F2F"><font size="2">(03:27:26 PM)</font> <b>bean:</b></font> I see, looks like 0 fun to debug<br/>
<font color="#A82F2F"><font size="2">(03:31:04 PM)</font> <b>nicferrier:</b></font> someone point me to an example of installing an rpm with a source file? I thought it would just be rpm_package &quot;blah&quot; do ; source &quot;...&quot; ; end<br/>
<font color="#A82F2F"><font size="2">(03:31:09 PM)</font> <b>nicferrier:</b></font> but that doesn&apos;t seem to work<br/>
<font color="#A82F2F"><font size="2">(03:33:49 PM)</font> <b>bean:</b></font> nicferrier: &quot;Install a package using a specific provider&quot; on http://docs.opscode.com/resource_package.html. You&apos;ll probably want to plop the RPM somewhere using cookbook_file or something<br/>
<font color="#A82F2F"><font size="2">(03:34:49 PM)</font> <b>nicferrier:</b></font> bean: I&apos;m using vagrant and trying to do it at provision time but it can&apos;t seem to be found at /vagrant/filename.rpm<br/>
<font color="#A82F2F"><font size="2">(03:34:55 PM)</font> <b>nicferrier:</b></font> any idea why?<br/>
<font color="#A82F2F"><font size="2">(03:37:01 PM)</font> <b>coderanger:</b></font> nicferrier: Pastebin your recipe code<br/>
<font color="#A82F2F"><font size="2">(03:39:31 PM)</font> <b>nicferrier:</b></font> coderanger: it&apos;s alright. I think I found it. :-) thx anyway!<br/>
<font size="2">(03:43:15 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font color="#A82F2F"><font size="2">(03:47:36 PM)</font> <b>rburton-:</b></font> gleam that worked well thanks bro<br/>
<font color="#062585"><font size="2">(03:47:51 PM)</font> <b>***rburton-</b></font> waits for the feminist to string me up for saying bro<br/>
<font color="#A82F2F"><font size="2">(03:48:45 PM)</font> <b>nicferrier:</b></font> really? jesus.<br/>
<font color="#A82F2F"><font size="2">(03:50:54 PM)</font> <b>xorl:</b></font> nicferrier i&apos;ve seen it :\<br/>
<font color="#A82F2F"><font size="2">(03:52:09 PM)</font> <b>nicferrier:</b></font> xorl: I didn&apos;t mean that the way you clearly thought I meant it.<br/>
<font color="#A82F2F"><font size="2">(03:52:15 PM)</font> <b>xorl:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(03:52:23 PM)</font> <b>xorl:</b></font> touche<br/>
<font color="#A82F2F"><font size="2">(03:53:17 PM)</font> <b>renchap:</b></font> any idea why i dont get email notifications for comments on one of my issues ?<br/>
<font color="#A82F2F"><font size="2">(03:54:13 PM)</font> <b>garrett__:</b></font> Are there 11.4 omnibus images for ubuntu12.04 floating around anywhere? it looks like EC2 just removed the Ubuntu12.04 AMI<br/>
<font color="#A82F2F"><font size="2">(03:54:25 PM)</font> <b>garrett__:</b></font> erp, sorry. 11.4 omnibus images for ubuntu14.04<br/>
<font color="#A82F2F"><font size="2">(04:01:20 PM)</font> <b>Ron__:</b></font> @coderanger, I have strace results, still trying to understand them.  But seeing &quot;27671 futex(0x7feb6da844e4, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 8331, {1398807905, 493039000}, ffffffff) = -1 ETIMEDOUT (Connection timed out)&quot; over and over and over and over....<br/>
<font size="2">(04:05:30 PM)</font><b> isotope is now known as Guest95938</b><br/>
<font size="2">(04:07:30 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font size="2">(04:08:29 PM)</font><b> gondoi is now known as zz_gondoi</b><br/>
<font size="2">(04:10:35 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font color="#A82F2F"><font size="2">(04:12:47 PM)</font> <b>coderanger:</b></font> Whats before that<br/>
<font color="#A82F2F"><font size="2">(04:12:57 PM)</font> <b>coderanger:</b></font> is it waiting on an io read or something?<br/>
<font color="#A82F2F"><font size="2">(04:13:03 PM)</font> <b>Ron__:</b></font> A whole lot, about 150k lines<br/>
<font color="#A82F2F"><font size="2">(04:13:10 PM)</font> <b>Ron__:</b></font> still trying to parse through it<br/>
<font color="#A82F2F"><font size="2">(04:13:21 PM)</font> <b>coderanger:</b></font> Sure, I mean in the preceding dozen or so syscalls<br/>
<font color="#A82F2F"><font size="2">(04:13:35 PM)</font> <b>Ron__:</b></font> ok one sec<br/>
<font color="#A82F2F"><font size="2">(04:17:38 PM)</font> <b>coderanger:</b></font> That just means some other thread is probably doing something, so the question is what :)<br/>
<font color="#A82F2F"><font size="2">(04:18:32 PM)</font> <b>Ron__:</b></font> http://pastebin.com/hQrDrCu9<br/>
<font color="#A82F2F"><font size="2">(04:18:51 PM)</font> <b>Ron__:</b></font> the last line starts repeating.<br/>
<font color="#A82F2F"><font size="2">(04:20:42 PM)</font> <b>jmickle:</b></font> hey guys<br/>
<font color="#A82F2F"><font size="2">(04:20:46 PM)</font> <b>jmickle:</b></font> whats the opscode sales email?<br/>
<font color="#A82F2F"><font size="2">(04:20:50 PM)</font> <b>jmickle:</b></font> sales@opscode.com?<br/>
<font color="#A82F2F"><font size="2">(04:21:23 PM)</font> <b>coderanger:</b></font> jmickle: presumably @getchef.com now<br/>
<font color="#A82F2F"><font size="2">(04:21:26 PM)</font> <b>rburton-:</b></font> should be on their site<br/>
<font color="#A82F2F"><font size="2">(04:21:49 PM)</font> <b>jmickle:</b></font> ty coderanger<br/>
<font color="#A82F2F"><font size="2">(04:21:54 PM)</font> <b>coderanger:</b></font> Ron__: Look in /proc/&lt;pid&gt;<br/>
<font color="#A82F2F"><font size="2">(04:21:55 PM)</font> <b>jmickle:</b></font> why the change in the domain?<br/>
<font color="#A82F2F"><font size="2">(04:22:01 PM)</font> <b>coderanger:</b></font> Ron__: What do fd 6 and 7 point at<br/>
<font color="#A82F2F"><font size="2">(04:22:16 PM)</font> <b>rburton-:</b></font> marketing :)<br/>
<font color="#A82F2F"><font size="2">(04:22:22 PM)</font> <b>rburton-:</b></font> getfirefox type of method<br/>
<font color="#A82F2F"><font size="2">(04:22:43 PM)</font> <b>coderanger:</b></font> jmickle: In big enterprise shops people had never heard of &quot;opscode&quot;, just &quot;chef&quot;<br/>
<font color="#A82F2F"><font size="2">(04:22:44 PM)</font> <b>rburton-:</b></font> like a lot of companies going &quot;Source&quot; e.g. SpringSource, MuleSource (Later MuleSoft)<br/>
<font color="#A82F2F"><font size="2">(04:22:49 PM)</font> <b>coderanger:</b></font> So the company renamed itself, kinda<br/>
<font color="#A82F2F"><font size="2">(04:22:54 PM)</font> <b>jmickle:</b></font> got it<br/>
<font color="#A82F2F"><font size="2">(04:22:55 PM)</font> <b>coderanger:</b></font> Most people still call it Opscode, myself included<br/>
<font color="#A82F2F"><font size="2">(04:23:00 PM)</font> <b>jmickle:</b></font> yeah me too<br/>
<font color="#A82F2F"><font size="2">(04:23:01 PM)</font> <b>jmickle:</b></font> :-P<br/>
<font color="#A82F2F"><font size="2">(04:23:08 PM)</font> <b>rburton-:</b></font> I call it chef to piss you guys off ;)<br/>
<font color="#A82F2F"><font size="2">(04:23:11 PM)</font> <b>jmickle:</b></font> we will still always be opscoders hehe<br/>
<font color="#A82F2F"><font size="2">(04:23:39 PM)</font> <b>rburton-:</b></font> One day I&apos;ll have to rewrite a few cookbooks e.g., Rails for instance<br/>
<font color="#A82F2F"><font size="2">(04:24:01 PM)</font> <b>Ron__:</b></font> @coderanger, checking<br/>
<font color="#A82F2F"><font size="2">(04:24:05 PM)</font> <b>rburton-:</b></font> To install, Rails, Ruby, Nginx, Passenger, etc correclty<br/>
<font color="#A82F2F"><font size="2">(04:24:24 PM)</font> <b>jmickle:</b></font> coderanger: this channel never ceases to be short of trolls lately huh?<br/>
<font color="#A82F2F"><font size="2">(04:24:57 PM)</font> <b>rburton-:</b></font> It&apos;s IRC, a place where people share their complaints, opinions, bathroom habits and sexual preferences<br/>
<font color="#A82F2F"><font size="2">(04:25:02 PM)</font> <b>rburton-:</b></font> since the 90s<br/>
<font color="#A82F2F"><font size="2">(04:25:03 PM)</font> <b>coderanger:</b></font> Ron__: Guessing 6 might be a network socket, in which case you&apos;ll need to use lsof to find what it is connected to<br/>
<font color="#A82F2F"><font size="2">(04:25:17 PM)</font> <b>Ron__:</b></font> @coderanger, cool ok<br/>
<font color="#A82F2F"><font size="2">(04:25:26 PM)</font> <b>Ron__:</b></font> no better time to learn :)<br/>
<font color="#A82F2F"><font size="2">(04:25:37 PM)</font> <b>coderanger:</b></font> Ron__: 2803  select(7, [6], NULL, NULL, {300, 0} &lt;unfinished ...&gt;<br/>
<font color="#A82F2F"><font size="2">(04:25:44 PM)</font> <b>coderanger:</b></font> Ron__: thats likely where things are blocked<br/>
<font color="#A82F2F"><font size="2">(04:25:51 PM)</font> <b>Ron__:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(04:26:10 PM)</font> <b>coderanger:</b></font> Ron__: And you can see the [6] as the readfd it is waiting on<br/>
<font color="#A82F2F"><font size="2">(04:26:20 PM)</font> <b>coderanger:</b></font> Someting is waiting for data<br/>
<font color="#A82F2F"><font size="2">(04:26:21 PM)</font> <b>coderanger:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(04:27:31 PM)</font> <b>jmickle:</b></font> ;-)<br/>
<font color="#A82F2F"><font size="2">(04:27:32 PM)</font> <b>coderanger:</b></font> Ron__: Should be lsof -p &lt;pid&gt; -d 6<br/>
<font color="#A82F2F"><font size="2">(04:27:33 PM)</font> <b>coderanger:</b></font> I think<br/>
<font color="#A82F2F"><font size="2">(04:27:38 PM)</font> <b>coderanger:</b></font> but its been a while<br/>
<font size="2">(04:29:50 PM)</font><b> rburton- left the room (quit: Quit: Leaving...).</b><br/>
<font color="#A82F2F"><font size="2">(04:31:17 PM)</font> <b>jmickle:</b></font> how are things going these days coderanger?<br/>
<font color="#A82F2F"><font size="2">(04:31:47 PM)</font> <b>coderanger:</b></font> jmickle: They thunder on, sick and hiding at home while I try to get my monitorama talk ready<br/>
<font color="#A82F2F"><font size="2">(04:31:55 PM)</font> <b>jmickle:</b></font> ahhh<br/>
<font color="#A82F2F"><font size="2">(04:32:02 PM)</font> <b>jmickle:</b></font> yeah i’ve been quiet lately<br/>
<font color="#A82F2F"><font size="2">(04:32:09 PM)</font> <b>jmickle:</b></font> slipped under the radar for a little bit<br/>
<font color="#A82F2F"><font size="2">(04:32:23 PM)</font> <b>jmickle:</b></font> seems like some other did as well?<br/>
<font size="2">(04:32:39 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font color="#A82F2F"><font size="2">(04:32:57 PM)</font> <b>coderanger:</b></font> jmickle: This will be my 5th con talk in 4 weeks, so been a bit backed up :)<br/>
<font color="#A82F2F"><font size="2">(04:33:19 PM)</font> <b>jmickle:</b></font> hehehe awesome :-)<br/>
<font color="#A82F2F"><font size="2">(04:33:23 PM)</font> <b>jmickle:</b></font> congrats man<br/>
<font color="#A82F2F"><font size="2">(04:35:27 PM)</font> <b>icarus:</b></font> hello all<br/>
<font color="#A82F2F"><font size="2">(04:36:01 PM)</font> <b>jmickle:</b></font> greeting icarus<br/>
<font color="#A82F2F"><font size="2">(04:36:07 PM)</font> <b>icarus:</b></font> can anyone think of a constructive way to set CustomLog to combined rather than common via apache2 cookbook<br/>
<font color="#A82F2F"><font size="2">(04:36:24 PM)</font> <b>icarus:</b></font> theres no node attribute for it<br/>
<font color="#A82F2F"><font size="2">(04:36:44 PM)</font> <b>icarus:</b></font> other than a recipe that uses sed...im sure theres a cleaner method<br/>
<font size="2">(04:37:06 PM)</font><b> cheeseplus_ is now known as cheeseplus</b><br/>
<font color="#A82F2F"><font size="2">(04:37:23 PM)</font> <b>coderanger:</b></font> icarus: rewind the template and use your own<br/>
<font color="#A82F2F"><font size="2">(04:37:37 PM)</font> <b>coderanger:</b></font> icarus: Or just do it in your vhost<br/>
<font size="2">(04:38:28 PM)</font><b> PhilK_ is now known as PhilK</b><br/>
<font color="#A82F2F"><font size="2">(04:38:29 PM)</font> <b>aalmenar:</b></font> Hi everyone<br/>
<font color="#A82F2F"><font size="2">(04:38:48 PM)</font> <b>Ron__:</b></font> @coderanger http://pastebin.com/KUvGFrYg<br/>
<font color="#A82F2F"><font size="2">(04:38:56 PM)</font> <b>aalmenar:</b></font> somebody nows a way to tel the chef-client the binary to use on all calls to gem_package<br/>
<font color="#A82F2F"><font size="2">(04:38:59 PM)</font> <b>aalmenar:</b></font> ??<br/>
<font color="#A82F2F"><font size="2">(04:39:10 PM)</font> <b>aalmenar:</b></font> i know about gem_binary on gem_package<br/>
<font color="#A82F2F"><font size="2">(04:39:27 PM)</font> <b>aalmenar:</b></font> but what about gem_package of cookbooks downloaded with berkshelf<br/>
<font color="#A82F2F"><font size="2">(04:39:45 PM)</font> <b>jmickle:</b></font> what do you mean aalmenar<br/>
<font color="#A82F2F"><font size="2">(04:40:08 PM)</font> <b>coderanger:</b></font> Ron__: o_O Are you using anything that pokes dbus?<br/>
<font color="#A82F2F"><font size="2">(04:40:12 PM)</font> <b>aalmenar:</b></font> i have omnibus chef installed<br/>
<font color="#A82F2F"><font size="2">(04:40:22 PM)</font> <b>aalmenar:</b></font> and i have ruby installed with rbenv<br/>
<font color="#A82F2F"><font size="2">(04:40:30 PM)</font> <b>coderanger:</b></font> aalmenar: No, you have to set it each time or fix your path<br/>
<font color="#A82F2F"><font size="2">(04:40:58 PM)</font> <b>Ron__:</b></font> @coderanger, you mean like installing a package from a local yum server?<br/>
<font color="#A82F2F"><font size="2">(04:41:11 PM)</font> <b>coderanger:</b></font> Ron__: No, dbus is the system IPC framework in Linux<br/>
<font color="#A82F2F"><font size="2">(04:41:22 PM)</font> <b>Ron__:</b></font> oh ha, thought you meant our company name<br/>
<font color="#A82F2F"><font size="2">(04:41:26 PM)</font> <b>Ron__:</b></font> no, not that i am aware of<br/>
<font color="#A82F2F"><font size="2">(04:41:41 PM)</font> <b>aalmenar:</b></font> coderanger: path is fixed on login shell with rbenv.sh<br/>
<font color="#A82F2F"><font size="2">(04:41:47 PM)</font> <b>coderanger:</b></font> Ron__: Can you pastebin the recipe that it is pausing on?<br/>
<font color="#A82F2F"><font size="2">(04:41:59 PM)</font> <b>aalmenar:</b></font> but chef-client doesnt run with thos variable loaded<br/>
<font color="#A82F2F"><font size="2">(04:42:00 PM)</font> <b>coderanger:</b></font> aalmenar: Most services don&apos;t run in a login shell :-)<br/>
<font color="#A82F2F"><font size="2">(04:42:38 PM)</font> <b>aalmenar:</b></font> so, with rbenv, i set on my cookbooks the path to the gem binary, thats not a problem<br/>
<font color="#A82F2F"><font size="2">(04:43:06 PM)</font> <b>aalmenar:</b></font> but other cookbooks downloaded with berkshelf this doesn&apos;t work that way<br/>
<font color="#A82F2F"><font size="2">(04:43:22 PM)</font> <b>aalmenar:</b></font> unless in my /wrapper|whater) cookbook type<br/>
<font color="#A82F2F"><font size="2">(04:43:32 PM)</font> <b>Ron__:</b></font> @codranger, I am trying :)<br/>
<font color="#A82F2F"><font size="2">(04:43:36 PM)</font> <b>coderanger:</b></font> aalmenar: ENV[&apos;PATH&apos;] = &apos;…&apos; in your base recipe<br/>
<font color="#A82F2F"><font size="2">(04:44:51 PM)</font> <b>coderanger:</b></font> aalmenar: Or just be explicit about it<br/>
<font color="#A82F2F"><font size="2">(04:45:14 PM)</font> <b>aalmenar:</b></font> ok, will check about it<br/>
<font color="#A82F2F"><font size="2">(04:45:18 PM)</font> <b>aalmenar:</b></font> thanks coderanger<br/>
<font color="#A82F2F"><font size="2">(04:45:50 PM)</font> <b>Ron__:</b></font> @coderanger, you the man<br/>
<font color="#A82F2F"><font size="2">(04:45:54 PM)</font> <b>Ron__:</b></font> disk issue<br/>
<font color="#A82F2F"><font size="2">(04:46:46 PM)</font> <b>Ron__:</b></font> can&apos;t ls directory<br/>
<font color="#A82F2F"><font size="2">(04:46:48 PM)</font> <b>Remi-Datadog:</b></font> Hi<br/>
<font color="#A82F2F"><font size="2">(04:46:57 PM)</font> <b>Ron__:</b></font> corrupt somehow<br/>
<font color="#A82F2F"><font size="2">(04:47:35 PM)</font> <b>coderanger:</b></font> Ron__: Grab smartctl and check for disk failure?<br/>
<font color="#A82F2F"><font size="2">(04:47:45 PM)</font> <b>Ron__:</b></font> cool thanks<br/>
<font color="#A82F2F"><font size="2">(04:47:48 PM)</font> <b>Remi-Datadog:</b></font> I&apos;m getting unsafe dependencies issues with Omnibus 3.0.0 that I was not having with omnibus 2.0.1:<br/>
<font color="#A82F2F"><font size="2">(04:47:48 PM)</font> <b>Remi-Datadog:</b></font> [health_check]     --&gt; /opt/datadog-agent/embedded/lib/libcurl.so.4.2.0<br/>
<font color="#A82F2F"><font size="2">(04:47:49 PM)</font> <b>Remi-Datadog:</b></font> [health_check]     --&gt; /opt/datadog-agent/embedded/lib/python2.7/site-packages/pycurl.so<br/>
<font color="#A82F2F"><font size="2">(04:47:49 PM)</font> <b>Remi-Datadog:</b></font> [health_check]     --&gt; /opt/datadog-agent/embedded/lib/python2.7/lib-dynload/_hashlib.so<br/>
<font color="#A82F2F"><font size="2">(04:47:49 PM)</font> <b>Remi-Datadog:</b></font> [health_check]     --&gt; /opt/datadog-agent/embedded/lib/python2.7/lib-dynload/_ssl.so<br/>
<font color="#A82F2F"><font size="2">(04:49:19 PM)</font> <b>Remi-Datadog:</b></font> I can&apos;t find anything in the github issue tracker related to that<br/>
<font color="#A82F2F"><font size="2">(04:49:26 PM)</font> <b>Remi-Datadog:</b></font> does it sound familiar to anyone ?<br/>
<font color="#A82F2F"><font size="2">(04:49:51 PM)</font> <b>coderanger:</b></font> Remi-Datadog: Is it incorrect?<br/>
<font color="#A82F2F"><font size="2">(04:50:02 PM)</font> <b>coderanger:</b></font> read: if you use ldd, do you see any external links<br/>
<font color="#A82F2F"><font size="2">(04:52:10 PM)</font> <b>Remi-Datadog:</b></font> I do, but why would it change between between omnibus 2.0.1 and omnibus 3.0.0 given that i&apos;m using the same software definitions ?<br/>
<font color="#A82F2F"><font size="2">(04:52:15 PM)</font> <b>Remi-Datadog:</b></font> has the whitelist changed ?<br/>
<font color="#A82F2F"><font size="2">(04:52:21 PM)</font> <b>coderanger:</b></font> Remi-Datadog: Myabe it was a bug fix? :)<br/>
<font color="#A82F2F"><font size="2">(04:55:20 PM)</font> <b>Remi-Datadog:</b></font> http://www.diffchecker.com/vpkead24<br/>
<font color="#A82F2F"><font size="2">(04:55:24 PM)</font> <b>Remi-Datadog:</b></font> this is the diff<br/>
<font color="#A82F2F"><font size="2">(04:55:37 PM)</font> <b>icarus:</b></font> coderanger: i figured it out<br/>
<font color="#A82F2F"><font size="2">(04:55:44 PM)</font> <b>icarus:</b></font> there was a template for the vhosts<br/>
<font color="#A82F2F"><font size="2">(04:55:45 PM)</font> <b>icarus:</b></font> easy fix<br/>
<font color="#A82F2F"><font size="2">(04:55:52 PM)</font> <b>Remi-Datadog:</b></font> the only difference is that there are more whitelisted libs in 3.0.0<br/>
<font color="#A82F2F"><font size="2">(04:55:55 PM)</font> <b>icarus:</b></font> thanks for pointing me in the right direction<br/>
<font size="2">(04:55:56 PM)</font><b> swalberg_ is now known as swalberg</b><br/>
<font color="#A82F2F"><font size="2">(04:56:00 PM)</font> <b>icarus:</b></font> btw, quick question<br/>
<font color="#A82F2F"><font size="2">(04:56:01 PM)</font> <b>Remi-Datadog:</b></font> 	http://www.diffchecker.com/vpkead24<br/>
<font color="#A82F2F"><font size="2">(04:56:12 PM)</font> <b>icarus:</b></font> what is everyones reason for using Chef over say, Puppet or Salt or Ansible?<br/>
<font color="#A82F2F"><font size="2">(04:56:41 PM)</font> <b>icarus:</b></font> (just because thats what your company was already using, and now its too much of a pain in the ass to port over to salt?)<br/>
<font color="#A82F2F"><font size="2">(04:56:47 PM)</font> <b>coderanger:</b></font> Remi-Datadog: I&apos;m not sure what you are really asking, it sounds like there was a bug in an older version that didn&apos;t catch certain bad links, and this is now fixed<br/>
<font size="2">(04:56:57 PM)</font><b> cloudnull_zzz is now known as cloudnull</b><br/>
<font color="#A82F2F"><font size="2">(04:56:57 PM)</font> <b>savant:</b></font> I like ruby<br/>
<font color="#A82F2F"><font size="2">(04:57:00 PM)</font> <b>coderanger:</b></font> icarus: Thats a bit of a long answer<br/>
<font color="#A82F2F"><font size="2">(04:57:09 PM)</font> <b>savant:</b></font> and dont like the puppet way of doing things<br/>
<font color="#A82F2F"><font size="2">(04:57:15 PM)</font> <b>Remi-Datadog:</b></font> coderanger: Do you have any link to that bug fix ?<br/>
<font color="#A82F2F"><font size="2">(04:57:17 PM)</font> <b>coderanger:</b></font> icarus: But short version, Yaml (and other made up langs) aren&apos;t very good for pogramming<br/>
<font color="#A82F2F"><font size="2">(04:57:19 PM)</font> <b>coderanger:</b></font> Remi-Datadog: Nope<br/>
<font color="#A82F2F"><font size="2">(04:57:32 PM)</font> <b>savant:</b></font> salt and ansible are newer. i&apos;ll let other people figure out the best way to do those before jumping on the bandwagon<br/>
<font color="#A82F2F"><font size="2">(04:57:37 PM)</font> <b>coderanger:</b></font> Remi-Datadog: But your question is still &quot;why is this software more correct now?&quot; :)<br/>
<font color="#A82F2F"><font size="2">(04:57:49 PM)</font> <b>Remi-Datadog:</b></font> exactly<br/>
<font color="#A82F2F"><font size="2">(04:57:52 PM)</font> <b>Remi-Datadog:</b></font> also<br/>
<font color="#A82F2F"><font size="2">(04:58:03 PM)</font> <b>Remi-Datadog:</b></font> i&apos;m going to check with the latests software definitions in omnibus-software<br/>
<font color="#A82F2F"><font size="2">(04:58:10 PM)</font> <b>Remi-Datadog:</b></font> but i don&apos;t think that&apos;s the issue<br/>
<font color="#A82F2F"><font size="2">(04:58:25 PM)</font> <b>Remi-Datadog:</b></font> (the dependencies failing are related to python and curl..)<br/>
<font color="#A82F2F"><font size="2">(04:58:38 PM)</font> <b>icarus:</b></font> coderanger: i havent messed with yaml extensibly<br/>
<font color="#A82F2F"><font size="2">(04:58:40 PM)</font> <b>coderanger:</b></font> icarus: Ansible&apos;s model is fine for ~5 servers, much beyond that an agentless and/or push-driven models break down<br/>
<font color="#A82F2F"><font size="2">(04:58:53 PM)</font> <b>icarus:</b></font> coderanger: i see your point<br/>
<font color="#A82F2F"><font size="2">(04:59:04 PM)</font> <b>icarus:</b></font> coderanger: i know a company that uses it for thousands<br/>
<font color="#A82F2F"><font size="2">(04:59:29 PM)</font> <b>icarus:</b></font> i take that back, *hundreds<br/>
<font color="#A82F2F"><font size="2">(04:59:38 PM)</font> <b>coderanger:</b></font> icarus: Salt is relatively fine, but doesn&apos;t offer much in the way of composable abstractions which disqualifies it in my book<br/>
<font color="#A82F2F"><font size="2">(04:59:43 PM)</font> <b>icarus:</b></font> WPEngine uses ansible for all of their deploys<br/>
<font color="#A82F2F"><font size="2">(05:00:04 PM)</font> <b>coderanger:</b></font> and puppet&apos;s server architecture is batshit insane<br/>
<font color="#A82F2F"><font size="2">(05:00:07 PM)</font> <b>savant:</b></font> icarus: im quickly discovering that the folks at wpengine aren&apos;t the best model to use for justifying anything...<br/>
<font color="#A82F2F"><font size="2">(05:00:14 PM)</font> <b>coderanger:</b></font> (though I&apos;ve heard they are fixing at least some of it)<br/>
<font color="#A82F2F"><font size="2">(05:00:33 PM)</font> <b>coderanger:</b></font> icarus: Not saying you can&apos;t do it, just that its not a good tool anymore<br/>
<font color="#A82F2F"><font size="2">(05:00:46 PM)</font> <b>icarus:</b></font> coderanger: what does the term composable abstrations mean?<br/>
<font color="#A82F2F"><font size="2">(05:00:49 PM)</font> <b>coderanger:</b></font> icarus: Push-based deploys, yes, but not for idempotent state management<br/>
<font color="#A82F2F"><font size="2">(05:00:59 PM)</font> <b>coderanger:</b></font> icarus: Building bigger abstractions on top of smaller ones<br/>
<font color="#A82F2F"><font size="2">(05:01:05 PM)</font> <b>icarus:</b></font> savant: they&apos;re growing crazy fast<br/>
<font color="#A82F2F"><font size="2">(05:01:11 PM)</font> <b>icarus:</b></font> and wouldn&apos;t hire me :/<br/>
<font color="#A82F2F"><font size="2">(05:01:20 PM)</font> <b>savant:</b></font> haha<br/>
<font color="#A82F2F"><font size="2">(05:01:49 PM)</font> <b>savant:</b></font> im just saying that my company debugging their operational issues doesn&apos;t exactly reflect well upon them<br/>
<font color="#A82F2F"><font size="2">(05:02:00 PM)</font> <b>coderanger:</b></font> People are really bad at thinking in deltas, much better to just state the total desired state of the system and let the tools work<br/>
<font color="#A82F2F"><font size="2">(05:02:03 PM)</font> <b>savant:</b></font> (not that I mind figuring out why their caching setup is batshit insane)<br/>
<font color="#A82F2F"><font size="2">(05:02:21 PM)</font> <b>coderanger:</b></font> (see also, chef-metal, cloudformation/heat, etc)<br/>
<font color="#A82F2F"><font size="2">(05:02:28 PM)</font> <b>savant:</b></font> at some point two weeks ago, they realized that they hadn&apos;t run some CM tool against a subset of their servers<br/>
<font color="#A82F2F"><font size="2">(05:02:32 PM)</font> <b>savant:</b></font> &quot;oops&quot; indeed.<br/>
<font color="#A82F2F"><font size="2">(05:02:44 PM)</font> <b>savant:</b></font> basically turned off any sort of caching, apc, etc.<br/>
<font color="#A82F2F"><font size="2">(05:03:05 PM)</font> <b>savant:</b></font> idk if thats tooling (not used ansible in prod, so I cant say) or procedure<br/>
<font color="#A82F2F"><font size="2">(05:03:06 PM)</font> <b>savant:</b></font> but yeah<br/>
<font color="#A82F2F"><font size="2">(05:03:09 PM)</font> <b>icarus:</b></font> coderanger: i had a use-case for chef-solo not long ago, but couldn&apos;t quite get it going without several recipe re-writes. masterless puppet seemed easier last time i tried it<br/>
<font color="#A82F2F"><font size="2">(05:03:30 PM)</font> <b>icarus:</b></font> ^ this is my only real problem with chef so far<br/>
<font size="2">(05:03:30 PM)</font><b> cloudnull is now known as cloudnull_zzz</b><br/>
<font color="#A82F2F"><font size="2">(05:03:32 PM)</font> <b>coderanger:</b></font> icarus: chef-solo is rarely a useful solution on its own<br/>
<font color="#A82F2F"><font size="2">(05:03:33 PM)</font> <b>savant:</b></font> im using chef-solo in production for ~50-60 nodes<br/>
<font color="#A82F2F"><font size="2">(05:03:37 PM)</font> <b>coderanger:</b></font> you need a control plane for it<br/>
<font color="#A82F2F"><font size="2">(05:03:50 PM)</font> <b>coderanger:</b></font> knife-solo + berkshelf is the bare minimum of a control system for it<br/>
<font color="#A82F2F"><font size="2">(05:03:56 PM)</font> <b>savant:</b></font> its kinda weird, but it works well enough<br/>
<font color="#A82F2F"><font size="2">(05:04:01 PM)</font> <b>coderanger:</b></font> but even that has all the same issues as ansible<br/>
<font color="#A82F2F"><font size="2">(05:04:20 PM)</font> <b>coderanger:</b></font> so most people end up cobbling together their own control plane<br/>
<font color="#A82F2F"><font size="2">(05:04:28 PM)</font> <b>icarus:</b></font> i like the idea of just maintaining a chef-repo and having chef-solo pull updates on boot, and then issuing an update for a chef-solo run via jenkins whenever there is a deploy<br/>
<font color="#A82F2F"><font size="2">(05:04:43 PM)</font> <b>icarus:</b></font> coderanger: that seems like a good summary<br/>
<font color="#A82F2F"><font size="2">(05:04:46 PM)</font> <b>coderanger:</b></font> icarus: That would be an example of an adhoc control plane :)<br/>
<font color="#A82F2F"><font size="2">(05:04:49 PM)</font> <b>savant:</b></font> coderanger: whats a control-plane<br/>
<font color="#A82F2F"><font size="2">(05:04:56 PM)</font> <b>savant:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(05:05:04 PM)</font> <b>coderanger:</b></font> savant: The thing sitting behind chef-solo, controlling it, moving data around ,etc<br/>
<font color="#A82F2F"><font size="2">(05:05:09 PM)</font> <b>savant:</b></font> mmm<br/>
<font color="#A82F2F"><font size="2">(05:05:14 PM)</font> <b>coderanger:</b></font> savant: terminology is from hardware, a la blade servers<br/>
<font color="#A82F2F"><font size="2">(05:05:24 PM)</font> <b>savant:</b></font> yeah just didnt know what your context was here :)<br/>
<font color="#A82F2F"><font size="2">(05:05:28 PM)</font> <b>icarus:</b></font> savant: thats about the server size im managing right now too<br/>
<font color="#A82F2F"><font size="2">(05:05:30 PM)</font> <b>coderanger:</b></font> data plane vs control plane<br/>
<font color="#A82F2F"><font size="2">(05:05:41 PM)</font> <b>icarus:</b></font> coderanger: the ad-hoc appeals to me<br/>
<font color="#A82F2F"><font size="2">(05:05:46 PM)</font> <b>savant:</b></font> icarus: yeah chef-solo works well enough for us<br/>
<font color="#A82F2F"><font size="2">(05:06:00 PM)</font> <b>icarus:</b></font> faster boot times for variable server(s) an a scaling group<br/>
<font color="#A82F2F"><font size="2">(05:06:05 PM)</font> <b>savant:</b></font> I use this for managing the chef-solo runs: https://github.com/josegonzalez/chef-solo-cup<br/>
<font color="#A82F2F"><font size="2">(05:06:05 PM)</font> <b>coderanger:</b></font> icarus: ::shrug::, it works, but consider your design carefully<br/>
<font color="#A82F2F"><font size="2">(05:06:26 PM)</font> <b>savant:</b></font> that plus ASGs on aws works well enough.<br/>
<font color="#A82F2F"><font size="2">(05:06:27 PM)</font> <b>coderanger:</b></font> icarus: Notably most solo-based systems lack adequate mechanisms for managing cookbook releases<br/>
<font color="#A82F2F"><font size="2">(05:07:17 PM)</font> <b>icarus:</b></font> hmmm, i can think of a few ways<br/>
<font color="#A82F2F"><font size="2">(05:07:33 PM)</font> <b>icarus:</b></font> i dont mind leaving the beaten path though<br/>
<font color="#A82F2F"><font size="2">(05:07:51 PM)</font> <b>coderanger:</b></font> icarus: When it breaks, you get to keep all the pieces ;-)<br/>
<font color="#A82F2F"><font size="2">(05:08:24 PM)</font> <b>icarus:</b></font> in this use case, theres not too man cookbook release changes<br/>
<font color="#A82F2F"><font size="2">(05:08:40 PM)</font> <b>icarus:</b></font> it seems like a berksfile.lock could handle it<br/>
<font color="#A82F2F"><font size="2">(05:08:48 PM)</font> <b>icarus:</b></font> mere speculation though, im heading back to work<br/>
<font color="#062585"><font size="2">(05:08:52 PM)</font> <b>***icarus</b></font> heads back to working<br/>
<font color="#A82F2F"><font size="2">(05:08:59 PM)</font> <b>icarus:</b></font> thanks for the input though!<br/>
<font size="2">(05:15:27 PM)</font><b> savant left the room (quit: Quit: Leaving.).</b><br/>
<font color="#16569E"><font size="2">(05:21:25 PM)</font> <b>Randy How:</b></font> i have a chicken-egg situation with pem files and encrypted dbags.  We're trying to use a cookbook_file resource to copy the pem to its location prior to setting a pswd variable.  When the recipe runs, during compilation phase an error occurs that the file does not exist.  Any guidance would be appreciated.<br/>
<font color="#A82F2F"><font size="2">(05:21:43 PM)</font> <b>coderanger:</b></font> randingo: Why would you do that?<br/>
<font color="#16569E"><font size="2">(05:21:49 PM)</font> <b>Randy How:</b></font> =]<br/>
<font color="#A82F2F"><font size="2">(05:21:58 PM)</font> <b>coderanger:</b></font> storing the encryption keys within chef removes most of the benefit<br/>
<font color="#A82F2F"><font size="2">(05:22:42 PM)</font> <b>coderanger:</b></font> You need to manage the keys outside of chef<br/>
<font color="#16569E"><font size="2">(05:22:46 PM)</font> <b>Randy How:</b></font> so the keys should be stored somewhere else?<br/>
<font color="#16569E"><font size="2">(05:22:50 PM)</font> <b>Randy How:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(05:22:54 PM)</font> <b>coderanger:</b></font> which is why encrypted bags are much less useful than they might initial appear<br/>
<font color="#16569E"><font size="2">(05:23:55 PM)</font> <b>Randy How:</b></font> yeah, i watched the segment of your talk regarding secrets management, with reference to lack of effectiveness<br/>
<font color="#A82F2F"><font size="2">(05:24:17 PM)</font> <b>coderanger:</b></font> :-)<br/>
<font color="#A82F2F"><font size="2">(05:24:26 PM)</font> <b>coderanger:</b></font> I mean its super effective at what it was intended for<br/>
<font color="#A82F2F"><font size="2">(05:24:43 PM)</font> <b>coderanger:</b></font> which is very specific &quot;if there is an offline data breach of the chef server, secrets can&apos;t be read&quot;<br/>
<font color="#A82F2F"><font size="2">(05:24:54 PM)</font> <b>coderanger:</b></font> encrypted bags do that quite well<br/>
<font size="2">(05:25:16 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font color="#16569E"><font size="2">(05:26:08 PM)</font> <b>Randy How:</b></font> that makes sense.  yeah, i have general questions regarding this feature that it's just a formality.  a warm fuzzy for someone else.<br/>
<font color="#16569E"><font size="2">(05:28:27 PM)</font> <b>Randy How:</b></font> the appliance we're delivering won't have a guarantee to access to S3 etc. <br/>
<font color="#16569E"><font size="2">(05:28:58 PM)</font> <b>Randy How:</b></font> second options for managed outside of chef?<br/>
<font color="#A82F2F"><font size="2">(05:34:09 PM)</font> <b>coderanger:</b></font> randingo: Not sure what you mean<br/>
<font color="#16569E"><font size="2">(05:38:40 PM)</font> <b>Randy How:</b></font> i'm looking for another option/example of where to store the pem's if they're not within Chef.  As well as regards to recipe testability, when they include encrypted databags and pem dependencies.<br/>
<font color="#A82F2F"><font size="2">(05:44:52 PM)</font> <b>coderanger:</b></font> randingo: Just bake the secrets in to the appliance<br/>
<font color="#A82F2F"><font size="2">(05:45:02 PM)</font> <b>coderanger:</b></font> randingo: Or use something like chef-vault<br/>
<font color="#16569E"><font size="2">(05:45:49 PM)</font> <b>Randy How:</b></font> ok, thanks.<br/>
<font size="2">(06:05:30 PM)</font><b> paulmooring is now known as paulmooring_away</b><br/>
<font size="2">(07:01:02 PM)</font><b> mode (+o ssd7) by ChanServ</b><br/>
<font size="2">(07:36:36 PM)</font><b> The account has disconnected and you are no longer in this chat. You will be automatically rejoined in the chat when the account reconnects.</b><br/>
</body></html>
