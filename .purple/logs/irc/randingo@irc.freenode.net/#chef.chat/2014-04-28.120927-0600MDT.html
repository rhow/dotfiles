<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #chef at Mon 28 Apr 2014 12:09:27 PM MDT on randingo@irc.freenode.net (irc)</title></head><body><h3>Conversation with #chef at Mon 28 Apr 2014 12:09:27 PM MDT on randingo@irc.freenode.net (irc)</h3>
<font size="2">(12:09:28 PM)</font><b> The topic for #chef is: Chef Client 11.12.2 bit.ly/1eYgKT7 | Chef Server 11.0.12 bit.ly/1hj0GFR | <a href="http://getchef.com/chef/install">http://getchef.com/chef/install</a> | <a href="http://docs.opscode.com">http://docs.opscode.com</a> | <a href="http://tickets.opscode.com">http://tickets.opscode.com</a> | <a href="http://lists.opscode.com">http://lists.opscode.com</a> | <a href="http://community.opscode.com">http://community.opscode.com</a> | <a href="http://status.opscode.com">http://status.opscode.com</a> | IRC Logs: <a href="http://bit.ly/chefirc">http://bit.ly/chefirc</a> Real-time: <a href="https://botbot.me/freenode/chef">https://botbot.me/freenode/chef</a> | Learning Chef? #learnchef</b><br/>
<font color="#A82F2F"><font size="2">(12:09:48 PM)</font> <b>craig_:</b></font> hello! has anyone else run into an issue where chef leaves behind a zombie process when running one particular recipe?<br/>
<font color="#A82F2F"><font size="2">(12:10:23 PM)</font> <b>double_p:</b></font> craig_: and that one is?<br/>
<font color="#A82F2F"><font size="2">(12:10:25 PM)</font> <b>craig_:</b></font> i&apos;m trying to use the chef-splunk recipe to install Splunk, but when I do it leaves behind a zombie<br/>
<font color="#A82F2F"><font size="2">(12:11:02 PM)</font> <b>craig_:</b></font> which, when coupled with Scalr, means that the Scalr init script never sees that the node is initialized and eventually times out<br/>
<font color="#A82F2F"><font size="2">(12:11:08 PM)</font> <b>double_p:</b></font> craig_: dont know that one, but a lot of shit commercial relies on working DNS<br/>
<font color="#A82F2F"><font size="2">(12:11:47 PM)</font> <b>craig_:</b></font> i don&apos;t THINK dns is the issue, as it&apos;s only using publicly available hostnames<br/>
<font color="#A82F2F"><font size="2">(12:12:00 PM)</font> <b>craig_:</b></font> i&apos;ll check a couple things down that road though<br/>
<font color="#A82F2F"><font size="2">(12:12:54 PM)</font> <b>craig_:</b></font> i&apos;m pretty new to chef though so I didn&apos;t know if zombies were a normal thing or not<br/>
<font color="#A82F2F"><font size="2">(12:13:43 PM)</font> <b>double_p:</b></font> craig_: a zombie is never &quot;normal&quot;<br/>
<font color="#A82F2F"><font size="2">(12:14:06 PM)</font> <b>jidar:</b></font> anybody help me repair my couchdb from chef?<br/>
<font color="#A82F2F"><font size="2">(12:14:08 PM)</font> <b>jidar:</b></font> curl &apos;http://localhost:5984/chef&apos;<br/>
<font color="#A82F2F"><font size="2">(12:14:08 PM)</font> <b>jidar:</b></font> {&quot;error&quot;:&quot;not_found&quot;,&quot;reason&quot;:&quot;no_db_file&quot;}<br/>
<font color="#A82F2F"><font size="2">(12:14:10 PM)</font> <b>jidar:</b></font> :(<br/>
<font size="2">(12:15:28 PM)</font><b> zz_gondoi is now known as gondoi</b><br/>
<font color="#A82F2F"><font size="2">(12:15:56 PM)</font> <b>craig_:</b></font> the weird thing is that the cookbook in question (chef-splunk) seems to be fully completing and putting all the expected entries into the log... and the chef run completes, and puts all the expected entries in the log... but then never gets cleaned up<br/>
<font size="2">(12:41:37 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font color="#A82F2F"><font size="2">(01:21:11 PM)</font> <b>armendonigian:</b></font> iâ€™m interested in using https://github.com/RiotGames/artifact-cookbook, how do I install a LWRP?<br/>
<font color="#A82F2F"><font size="2">(01:22:19 PM)</font> <b>BryanWB:</b></font> is there an lwrp for setting windows user acls as one does w/ ntrights.exe?<br/>
<font color="#A82F2F"><font size="2">(01:22:22 PM)</font> <b>Embalmed:</b></font> what happens if we have an EDB key that doesn&apos;t seem to have anyone able to give it grants<br/>
<font color="#A82F2F"><font size="2">(01:25:22 PM)</font> <b>coderanger:</b></font> armendonigian: They just come along with the cookbook<br/>
<font color="#A82F2F"><font size="2">(01:25:50 PM)</font> <b>coderanger:</b></font> Embalmed: Possibly the wrong channel? I&apos;m not sure to what you refer<br/>
<font color="#A82F2F"><font size="2">(01:26:12 PM)</font> <b>Embalmed:</b></font> you are unfamiliar with encrypted data bags/<br/>
<font color="#A82F2F"><font size="2">(01:26:14 PM)</font> <b>Embalmed:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(01:26:52 PM)</font> <b>Embalmed:</b></font> in order to grant access to use the edb key you have to add the grant for a node<br/>
<font color="#A82F2F"><font size="2">(01:27:06 PM)</font> <b>Embalmed:</b></font> if nobody has access to give the node grant... what then?<br/>
<font color="#A82F2F"><font size="2">(01:28:46 PM)</font> <b>coderanger:</b></font> Oh, heh<br/>
<font color="#A82F2F"><font size="2">(01:28:56 PM)</font> <b>coderanger:</b></font> Haven&apos;t heard that abbreviation<br/>
<font color="#A82F2F"><font size="2">(01:29:21 PM)</font> <b>coderanger:</b></font> So no, encrypted bags have no ACLs<br/>
<font color="#A82F2F"><font size="2">(01:29:43 PM)</font> <b>coderanger:</b></font> Enterprise Chef does support them for bags in general, but its at the item level, not per key<br/>
<font color="#A82F2F"><font size="2">(01:29:58 PM)</font> <b>Embalmed:</b></font> uh<br/>
<font color="#A82F2F"><font size="2">(01:30:09 PM)</font> <b>Embalmed:</b></font> we apply our edb grants per system<br/>
<font color="#A82F2F"><font size="2">(01:30:16 PM)</font> <b>Embalmed:</b></font> do this every day<br/>
<font color="#A82F2F"><font size="2">(01:30:25 PM)</font> <b>Embalmed:</b></font> but one of our key/bags nobody has access to grant anymore<br/>
<font color="#A82F2F"><font size="2">(01:30:31 PM)</font> <b>coderanger:</b></font> Which grants do you mean?<br/>
<font color="#A82F2F"><font size="2">(01:30:48 PM)</font> <b>Embalmed:</b></font> knife edb grant databag key nodename<br/>
<font color="#A82F2F"><font size="2">(01:31:19 PM)</font> <b>coderanger:</b></font> I don&apos;t know that is<br/>
<font color="#A82F2F"><font size="2">(01:31:26 PM)</font> <b>coderanger:</b></font> Sounds like an internal plugin?<br/>
<font color="#A82F2F"><font size="2">(01:31:46 PM)</font> <b>Embalmed:</b></font> could be..  probably this  https://github.com/stephenpearson/knife-edb<br/>
<font color="#A82F2F"><font size="2">(01:32:15 PM)</font> <b>coderanger:</b></font> Looks vaguely similar to chef-vault<br/>
<font color="#A82F2F"><font size="2">(01:32:42 PM)</font> <b>coderanger:</b></font> but its entirely different from chef&apos;s encrypted data bag system so I&apos;m afraid I don&apos;t know much about it<br/>
<font color="#A82F2F"><font size="2">(01:32:50 PM)</font> <b>Embalmed:</b></font> makes sense<br/>
<font color="#A82F2F"><font size="2">(01:33:11 PM)</font> <b>Embalmed:</b></font> i think they just engaged opscode so i&apos;ll let them handle it<br/>
<font color="#A82F2F"><font size="2">(01:33:19 PM)</font> <b>Embalmed:</b></font> but figured i&apos;d at least ask here<br/>
<font color="#A82F2F"><font size="2">(01:33:26 PM)</font> <b>Embalmed:</b></font> i didn&apos;t realize it was a custom plugin<br/>
<font size="2">(02:03:05 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font size="2">(02:10:22 PM)</font><b> paulmooring is now known as paulmooring_away</b><br/>
<font size="2">(02:10:34 PM)</font><b> paulmooring_away is now known as paulmooring</b><br/>
<font size="2">(02:13:32 PM)</font><b> paulczar is now known as zz_paulczar</b><br/>
<font color="#A82F2F"><font size="2">(02:23:53 PM)</font> <b>jskains:</b></font> ANyone here know where I could get support for the Nagios cookbook? It&apos;s documentation is lacking in many areas.<br/>
<font size="2">(02:24:51 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font size="2">(02:25:59 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font size="2">(02:27:16 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font color="#A82F2F"><font size="2">(02:28:12 PM)</font> <b>laurent\:</b></font> jskains: its github page<br/>
<font size="2">(02:34:00 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font size="2">(03:10:00 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font color="#16569E"><font size="2">(03:17:45 PM)</font> <b>Randy How:</b></font> maybe more of a VM question.  I have a ubuntu host running VirtualBox, and a window2008 guest that is appending the DNS suffix to the host name.  Network is set to NAT, is there any way to disable the guest from appending the suffix??<br/>
<font size="2">(03:21:56 PM)</font><b> mwhite|away is now known as mwhite|</b><br/>
<font size="2">(03:23:52 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font color="#16569E"><font size="2">(03:35:21 PM)</font> <b>Randy How:</b></font> i'm not sure if something needs to change in the guest to disable it or in the settings of the Virtualbox instance to limit the awareness.  thoughts?<br/>
<font size="2">(03:36:22 PM)</font><b> mwhite| is now known as mwhite|away</b><br/>
<font size="2">(03:45:01 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font color="#A82F2F"><font size="2">(03:50:07 PM)</font> <b>Majost:</b></font>  Does anyone know how to test guard expressions with chefspec?<br/>
<font color="#A82F2F"><font size="2">(03:52:20 PM)</font> <b>Majost:</b></font> For example, I have a guard on  an execute block<br/>
<font color="#A82F2F"><font size="2">(03:52:52 PM)</font> <b>Majost:</b></font> and a test like this:expect(chef_run).not_to run_execute(&apos;exec-foo&apos;).with(not_if: ::Dir.exists?(&apos;this_should_fail&apos;))<br/>
<font color="#A82F2F"><font size="2">(03:53:01 PM)</font> <b>Majost:</b></font> but it always seems to pass, when it should not<br/>
<font size="2">(04:20:08 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font size="2">(04:23:42 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font size="2">(04:24:13 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font size="2">(04:26:48 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font size="2">(04:38:05 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font size="2">(05:00:07 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font size="2">(05:16:41 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font size="2">(05:24:52 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font size="2">(05:56:30 PM)</font><b> paulmooring is now known as paulmooring_away</b><br/>
<font color="#A82F2F"><font size="2">(05:56:46 PM)</font> <b>otakup0pe:</b></font> hey so are there common caveats when creating a lwrp ?<br/>
<font color="#A82F2F"><font size="2">(05:57:00 PM)</font> <b>otakup0pe:</b></font> i&apos;ve made a custom lwrp in a private cookbook i use in another private cookbook<br/>
<font color="#A82F2F"><font size="2">(05:57:02 PM)</font> <b>otakup0pe:</b></font> and it can&apos;t find the lwrp<br/>
<font color="#A82F2F"><font size="2">(05:57:18 PM)</font> <b>otakup0pe:</b></font> both are in chef, both show up in the &apos;cookbook list&apos;, and the metadata.rb&apos;s seem rigbht<br/>
<font color="#A82F2F"><font size="2">(05:57:44 PM)</font> <b>otakup0pe:</b></font> comparing to some of the opscode lwrp&apos;s i&apos;m doing it right<br/>
<font color="#A82F2F"><font size="2">(05:57:55 PM)</font> <b>otakup0pe:</b></font> or i&apos;m blind<br/>
<font color="#A82F2F"><font size="2">(06:00:05 PM)</font> <b>coderanger:</b></font> otakup0pe: Make sure you add the cookbook dependency<br/>
<font color="#A82F2F"><font size="2">(06:00:12 PM)</font> <b>otakup0pe:</b></font> in metadata.rb ? got that.<br/>
<font color="#A82F2F"><font size="2">(06:00:15 PM)</font> <b>coderanger:</b></font> the thing using it needs to depend on the thing containing it<br/>
<font color="#A82F2F"><font size="2">(06:00:39 PM)</font> <b>otakup0pe:</b></font> it&apos;s there even when i look at the cookbook with knife cli<br/>
<font color="#A82F2F"><font size="2">(06:01:21 PM)</font> <b>coderanger:</b></font> Do you have any version restrictions in your environment?<br/>
<font color="#A82F2F"><font size="2">(06:01:25 PM)</font> <b>otakup0pe:</b></font> nope.<br/>
<font color="#A82F2F"><font size="2">(06:01:33 PM)</font> <b>otakup0pe:</b></font> nor in the cookbooks themselves.<br/>
<font color="#A82F2F"><font size="2">(06:01:36 PM)</font> <b>coderanger:</b></font> Do you see the LWRP in the cache on the machine?<br/>
<font color="#A82F2F"><font size="2">(06:01:43 PM)</font> <b>otakup0pe:</b></font> oh good question<br/>
<font color="#A82F2F"><font size="2">(06:02:07 PM)</font> <b>otakup0pe:</b></font> yeah both the resources and providers bit<br/>
<font color="#A82F2F"><font size="2">(06:02:43 PM)</font> <b>otakup0pe:</b></font> mmm<br/>
<font color="#A82F2F"><font size="2">(06:02:50 PM)</font> <b>otakup0pe:</b></font> i wonder if it&apos;s because the old definitions version is still in the cache<br/>
<font size="2">(06:06:08 PM)</font><b> zz_cdracars is now known as cdracars</b><br/>
<font color="#A82F2F"><font size="2">(06:07:41 PM)</font> <b>otakup0pe:</b></font> yeah wasn&apos;t that. blow away cache dir and same diff.<br/>
<font color="#A82F2F"><font size="2">(06:07:58 PM)</font> <b>coderanger:</b></font> otakup0pe: What error are you seeing?<br/>
<font color="#A82F2F"><font size="2">(06:08:18 PM)</font> <b>otakup0pe:</b></font> Cannot find a resource for [redacted] on ubuntu version 12.04<br/>
<font color="#A82F2F"><font size="2">(06:08:29 PM)</font> <b>otakup0pe:</b></font> in the recipe when i try to invoke the lwrp<br/>
<font color="#A82F2F"><font size="2">(06:08:30 PM)</font> <b>coderanger:</b></font> I kind of need to see the redacted :P<br/>
<font color="#A82F2F"><font size="2">(06:08:43 PM)</font> <b>otakup0pe:</b></font> it&apos;s just the name of the lwrp<br/>
<font color="#A82F2F"><font size="2">(06:08:46 PM)</font> <b>otakup0pe:</b></font> foo_bar<br/>
<font color="#A82F2F"><font size="2">(06:08:56 PM)</font> <b>coderanger:</b></font> How sure are you you have the name correct? :)<br/>
<font color="#A82F2F"><font size="2">(06:09:07 PM)</font> <b>coderanger:</b></font> the name would be the name of the cookbook plus the name of hte resource file<br/>
<font color="#A82F2F"><font size="2">(06:09:14 PM)</font> <b>otakup0pe:</b></font> no shit<br/>
<font color="#A82F2F"><font size="2">(06:09:18 PM)</font> <b>otakup0pe:</b></font> :|<br/>
<font color="#A82F2F"><font size="2">(06:09:40 PM)</font> <b>otakup0pe:</b></font> separated by an underscore ?<br/>
<font color="#A82F2F"><font size="2">(06:09:42 PM)</font> <b>coderanger:</b></font> so to be foo_bar, the path to the resource file would have to be cookbooks/foo/resources/bar.rb<br/>
<font size="2">(06:09:46 PM)</font><b> isotope is now known as Guest18148</b><br/>
<font color="#A82F2F"><font size="2">(06:09:52 PM)</font> <b>coderanger:</b></font> yeah, and all hyphens replaced by underscores<br/>
<font color="#A82F2F"><font size="2">(06:10:06 PM)</font> <b>coderanger:</b></font> and as a special case, cookbooks/foo/resources/default.rb -&gt; foo<br/>
<font color="#A82F2F"><font size="2">(06:10:08 PM)</font> <b>otakup0pe:</b></font> renaming to baz_foo_bar ...<br/>
<font color="#A82F2F"><font size="2">(06:12:21 PM)</font> <b>otakup0pe:</b></font> mm i think it&apos;s working now thx yo<br/>
<font color="#A82F2F"><font size="2">(06:12:27 PM)</font> <b>otakup0pe:</b></font> dunno how i missed that in the docs<br/>
<font size="2">(06:21:49 PM)</font><b> gondoi is now known as zz_gondoi</b><br/>
<font size="2">(06:27:47 PM)</font><b> mwhite|away is now known as mwhite</b><br/>
<font size="2">(06:30:43 PM)</font><b> cdracars is now known as zz_cdracars</b><br/>
<font color="#A82F2F"><font size="2">(06:47:35 PM)</font> <b>juliancdunn:</b></font> Majost: you were asking about stubbing guards, right?<br/>
<font size="2">(06:50:02 PM)</font><b> mwhite is now known as mwhite|away</b><br/>
<font size="2">(06:53:34 PM)</font><b> The account has disconnected and you are no longer in this chat. You will be automatically rejoined in the chat when the account reconnects.</b><br/>
</body></html>
